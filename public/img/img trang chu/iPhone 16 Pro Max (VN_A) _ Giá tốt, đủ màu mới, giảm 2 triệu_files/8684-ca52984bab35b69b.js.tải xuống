(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8684],{81780:function(e,n,t){"use strict";t.d(n,{H3:function(){return s},Y$:function(){return u},Zr:function(){return c},_1:function(){return d},ow:function(){return a}});var o=t(86807),l=t(73463);let i=l.ZP.getInstance({baseURL:"BFF_ORDER"}),r=l.ZP.getInstance({baseURL:"BFF_ORDER_PRIVATE"});async function a(e){try{return await i.post(o.sqJ,e,{})}catch(e){return Promise.reject(e)}}async function d(e){try{return await r.post(o.FUD,e,{})}catch(e){return Promise.reject(e)}}async function u(){try{return await r.get(o.afB)}catch(e){return Promise.reject(e)}}async function s(e){try{return await i.post(o.Mjr,e,{})}catch(e){return Promise.reject(e)}}async function c(e){try{return await i.post(o.l6p,e)}catch(e){return Promise.reject(e)}}},49244:function(e,n,t){"use strict";var o,l,i,r;t.d(n,{Cr:function(){return v},Dg:function(){return o},ER:function(){return u},JA:function(){return d},O8:function(){return c},Pv:function(){return l},Tw:function(){return m},VZ:function(){return a},WQ:function(){return s},wR:function(){return p}});let a=16,d={1:"Đặt h\xe0ng",2:"Đặt cọc",3:"Mua h\xe0ng"},u={order:1,deposit:2,Purchase:3},s={rules:"rules",gameRules:"countGame",orderRules:"orderRules",depositRules:"depositRules",countInfo:"countInfo"},c=100,v=[{categoriesName:"ĐTDĐ",productTypeName:"ĐTDĐ-ĐTDĐ",displayName:"Số suất Điện thoại h\xe3ng kh\xe1c c\xf2n lại:"},{categoriesName:"Apple",productTypeName:"ĐTDĐ-Apple",displayName:"Số suất Điện thoại Apple c\xf2n lại:"},{categoriesName:"MTB",productTypeName:"MTB-MTB",displayName:"Số suất M\xe1y t\xednh bảng h\xe3ng kh\xe1c c\xf2n lại:"},{categoriesName:"Apple",productTypeName:"MTB-Apple",displayName:"Số suất M\xe1y t\xednh bảng Apple c\xf2n lại:"},{categoriesName:"Apple",productTypeName:"MTXT-Apple",displayName:"Số suất Macbook/iMac c\xf2n lại:"},{categoriesName:"ĐTDĐ",productTypeName:"Đồng hồ th\xf4ng minh- ĐTDĐ",displayName:"Số suất Thiết bị đeo h\xe3ng kh\xe1c c\xf2n lại:"},{categoriesName:"Apple",productTypeName:"Watch-Apple",displayName:"Số suất Apple Watch c\xf2n lại:"},{categoriesName:"MT",productTypeName:"MTXT-MT",displayName:"Số suất Laptop/PC h\xe3ng kh\xe1c c\xf2n lại:"},{categoriesName:"Điện m\xe1y",productTypeName:"Gia dụng",displayName:"Số suất Gia dụng c\xf2n lại:"},{categoriesName:"Phụ Kiện",productTypeName:null,displayName:"Số suất Phụ kiện c\xf2n lại:"},{categoriesName:"MT",productTypeName:"M\xe0n h\xecnh",displayName:"Số suất M\xe0n h\xecnh c\xf2n lại:"},{categoriesName:"DV",productTypeName:"Phần mềm-DV",displayName:"Số suất Phần mềm c\xf2n lại:"},{categoriesName:"Điện m\xe1y",productTypeName:"M\xe1y Lạnh_Điện m\xe1y",displayName:"Số suất Điện m\xe1y c\xf2n lại:"}],m={BACK_TO_SCHOOL:"BackToSchool",AEC:"AEC",EDUCATION:"Education",OTHER:"Other",ANDROID:"Android",TWO_G:"TWO_G"};(i=o||(o={}))[i.NORMAL=0]="NORMAL",i[i.PRE_ORDER=1]="PRE_ORDER",i[i.BACK_TO_SCHOOL=2]="BACK_TO_SCHOOL",i[i.SENDO=11]="SENDO",i[i.LAZADA=6]="LAZADA",i[i.TIKTOK_SHOP=13]="TIKTOK_SHOP",i[i.SOM=3]="SOM",i[i.INST_CARD=4]="INST_CARD",i[i.INST_HOME_FINANCE=5]="INST_HOME_FINANCE",i[i.SOFTWARE_LICENSE=7]="SOFTWARE_LICENSE",i[i.WARRANTY_PACKAGE=8]="WARRANTY_PACKAGE",i[i.AEC=9]="AEC",i[i.EDUCATION=10]="EDUCATION",i[i.HOTSALE=12]="HOTSALE",i[i.D2C=14]="D2C",(r=l||(l={})).REGISTER="register",r.DEPOSIT="deposit";let p=["00911048","00911052","00911056"]},14527:function(e,n,t){"use strict";t.d(n,{B5:function(){return u},EI:function(){return s},Ux:function(){return c},cP:function(){return d},pE:function(){return r},qX:function(){return i}});var o,l,i,r,a=t(40763);(o=i||(i={})).THANH_CONG="thanh-cong",o.THAT_BAI="that-bai",o.DANG_XU_LY="dang-xu-ly",o.TRA_HANG="tra-hang";let d=e=>((null==e?void 0:e.products)||[]).some(e=>(null==e?void 0:e.productType)===a.fY.SCRATCH_CARD),u=e=>((null==e?void 0:e.products)||[]).some(e=>(null==e?void 0:e.productType)===a.fY.TOPUP);(l=r||(r={})).PENDING="PENDING",l.SUCCESS="SUCCESS",l.CANCEL="CANCELED";let s="masoffer",c={MAS_OFFER:"MAS_OFFER",ACCESS_TRADE:"ACCESS_TRADE"}},51319:function(e,n,t){"use strict";t.d(n,{I:function(){return i}});var o=t(27573);t(7653);var l=t(30088);function i(e){let{viewNumber:n,setViewNumber:t,totalLength:i,length:r=3}=e;return i>r&&(0,o.jsx)("div",{children:(0,o.jsxs)("button",{onClick:()=>n<i?t(i):t(3),className:"flex cursor-pointer",children:[(0,o.jsx)("span",{className:"text-textOnWhiteHyperLink b2-medium",children:n===i?"Thu gọn":"Xem th\xeam ".concat(i-3," khuyến m\xe3i kh\xe1c")}),(0,o.jsx)(l.yRp,{className:"".concat(n===i?"":"rotate-180")})]})})}},85528:function(e,n,t){"use strict";t.d(n,{O:function(){return G},f:function(){return l}});var o,l,i=t(27573),r=t(51319),a=t(9206),d=t(40763),u=t(28847),s=t(90375),c=t(30088),v=t(21010),m=(t(13322),t(96865)),p=t(61117),h=t(9156),f=t(94029),y=t.n(f),g=t(45259),_=t.n(g),C=t(41289),E=t.n(C),N=t(44552),b=t.n(N),S=t(5298),x=t.n(S),I=t(18075),P=t.n(I),T=t(28950),A=t.n(T),O=t(92514),R=t.n(O),D=t(38433),w=t.n(D),M=t(7653),k=t(7405),L=t(88655),j=t(24945),F=t(97712),H=t(81780),V=t(72150),B=t(27432),U=t(95338),Z=e=>{var n,t,o;let l;let{setAddVoucher:r,setStatusVoucher:a,setIsChangePromotion:d}=e,{cart:u,orderFormData:m,setCart:p,sessionId:h,updateCartCustomer:f,setCheckPhoneVoucher:y,clearOrderFormError:g,getCreditCartPackage:_,fetchInstallmentPackages:C,filterFinancePackage:E}=(0,s.q)(),N=window.location.href,b=(0,U.vM)(N,null!==(t=null==u?void 0:u.products)&&void 0!==t?t:[]),{profile:S}=(0,B.O)(),[x,I]=M.useState(""),[P,T]=M.useState(""),[A,O]=M.useState([]),[R,D]=M.useState(!1),w=F.z.object({code:F.z.string().min(1,"Th\xf4ng tin bắt buộc. Vui l\xf2ng nhập đủ.").max(255,{message:"Vui l\xf2ng nhập dưới 255 k\xfd tự"}),phone:F.z.string()});M.useEffect(()=>{null!==S&&I(S.profile.mobilePhone)},[S]);let Z=async e=>{var n,t,o;e.preventDefault();let{success:l,data:s,error:v}=w.safeParse({phone:x,code:P});if(!l){let{errors:e}=v;return O(e)}if(null==u?void 0:u.vouchers.some(e=>e.seriesCode===P))return O([{path:["code"],message:"Bạn đang sử dụng m\xe3 giảm gi\xe1 n\xe0y. Vui l\xf2ng nhập m\xe3 giảm gi\xe1 kh\xe1c",code:"custom"}]);if(""!==x&&(null===(n=m.customer)||void 0===n?void 0:n.phone)&&(null===(t=m.customer)||void 0===t?void 0:t.phone)!==x)return V.default.open({size:"small",title:(0,i.jsxs)("p",{className:"flex items-center gap-2",children:[(0,i.jsx)(c.mVO,{className:"h-5 w-5 fill-yellow-yellow-7"}),(0,i.jsx)("span",{className:"text-yellow-yellow-7 b1-semibold",children:"Warning"})]}),children:(0,i.jsx)("div",{className:"border-t border-neutral-gray-1 p-4",children:(0,i.jsx)("p",{children:"Vui l\xf2ng nhập số điện thoại tr\xf9ng với số điện thoại người đặt h\xe0ng"})})});D(!0),O([]);let N={sessionId:null!=h?h:"",orderType:null!=b?b:1,phoneNumber:null==m?void 0:null===(o=m.customer)||void 0===o?void 0:o.phone,seriesCodes:[s.code],phoneForSeriesCode:x,type:"ADDED"};(0,H.ow)(N).then(e=>{e&&(d(!0),""!==x&&(y(!0),f({phone:x}),g(["phone"])),p(e.data),r(!1),a({type:"success",status:!0,statusText:"Đ\xe3 \xe1p dụng th\xe0nh c\xf4ng m\xe3 giảm gi\xe1"}),setTimeout(()=>{a({type:"",status:!1,statusText:""})},1e3),(null==m?void 0:m.customer)&&u&&((0,k.yE)(null==m?void 0:m.customer,u,_),(0,k.V0)(f,null==m?void 0:m.customer,E,C)))}).catch(e=>{var n,t;a({type:"error",status:!0,statusText:null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(n=t.error)||void 0===n?void 0:n.message}),setTimeout(()=>{a({type:"",status:!1,statusText:""})},1500)}).finally(()=>{D(!1)})};return(0,i.jsxs)("form",{className:"flex h-full w-full flex-col justify-between bg-bgWhiteDefault",children:[(0,i.jsxs)("div",{className:"ml-4 mr-8 mt-3 flex flex-col gap-3",children:[(0,i.jsxs)("div",{className:"flex cursor-pointer",onClick:()=>r(!1),children:[(0,i.jsx)(c.ubB,{}),(0,i.jsx)("div",{className:"text-textOnWhiteHyperLink b2-medium",children:"Trở về"})]}),(0,i.jsxs)("div",{className:"flex max-w-full flex-col gap-3 py-2",children:[(0,i.jsx)(j.Z,{size:"medium",value:P,required:!0,placeholder:"Nhập m\xe3 giảm gi\xe1",labelText:"M\xe3 giảm gi\xe1",helperText:(l=null!==(o=null===(n=A.find(e=>"code"===e.path[0]))||void 0===n?void 0:n.message)&&void 0!==o?o:"",(0,i.jsx)(i.Fragment,{children:l&&(0,i.jsx)(L.Z,{text:l,status:"error",className:"mt-1 transition-opacity duration-500 ease-in-out"})})),onChange:e=>T(e),status:A.some(e=>"code"===e.path[0])?"error":"default"}),null===S&&(0,i.jsx)(j.Z,{size:"medium",value:x,placeholder:"Nhập số điện thoại",labelText:"Số điện thoại để x\xe1c minh",onChange:e=>I(e)})]})]}),(0,i.jsx)("div",{className:"rounded-t-2xl bg-bgWhiteDefault p-4",style:{boxShadow:"0px 2px 24px 0px rgba(0, 0, 0, 0.08), 0px 28px 32px 1px rgba(0, 0, 0, 0.12)"},children:(0,i.jsx)(v.default,{className:"h-full w-full rounded-2 py-3 text-textOnSpecialPrimary b2-medium",type:"submit",onClick:Z,loading:R,disabled:R,children:"X\xe1c nhận"})})]})};function G(e){var n,t,o,l,f,g;let{setOpenPromotion:C,openPromotion:N}=e,{sessionId:S,orderFormData:I,cart:T,cartProgress:O,postSelectPromotion:D,incrementPending:L,updateCartCustomer:j,fetchPaymentMethods:F}=(0,s.q)(),H=null==T?void 0:null===(n=T.products)||void 0===n?void 0:n.some(e=>e.isAllowPreOrder&&e.isSelected),V=null===(t=I.customer)||void 0===t?void 0:t.selectedPaymentMethodId,B=()=>{var e;if(V&&([u.x8.KREDIVO,u.x8.HOME_PAYLATER,u.x8.INSTALLMENT_MOMO].includes(V)&&(null==I?void 0:null===(e=I.customer)||void 0===e?void 0:e.orderType)===d.Jm.TRAGOP||[u.x8.INSTALLMENT_CARD,u.x8.FINANCE].includes(V)))return!0},U=(0,h.ac)("mb"),G=((0,M.useRef)(null),(0,M.useRef)()),[W,Y]=(0,M.useState)(!1),[K,z]=(0,M.useState)([]),[q,J]=(0,M.useState)([]),[X,Q]=(0,M.useState)(3),[$,ee]=(0,M.useState)(3),[en,et]=(0,M.useState)([]),[eo,el]=(0,M.useState)(""),[ei,er]=(0,M.useState)("all"),[ea,ed]=(0,M.useState)(!1),[eu,es]=(0,M.useState)({type:"",status:!1,statusText:""}),[ec,ev]=(0,M.useState)(!1),em=e=>P()(e,function(e,n){var t,o;return e.push({isAllowSelect:n.isAllowSelect,code:n.code,detail:n.description,labelPromotion:n.displayName,statusCode:n.statusCode,ofProductId:n.ofProductId,ofProductName:n.ofProductName,paymentMethodName:n.paymentMethodName,paymentMethodCode:n.paymentMethodCode,defaultCheck:JSON.stringify({code:null!==(t=n.code)&&void 0!==t?t:"",ofProductId:null!==(o=n.ofProductId)&&void 0!==o?o:""})}),e},[]),ep=x()(null==T?void 0:T.paymentPromotions,e=>({key:e.paymentMethodCode,label:e.paymentMethodCode===u.x8.HOME_PAYLATER?"Home PayLater":e.paymentMethodCode===u.x8.ALEPAY?"Thẻ t\xedn dụng":e.paymentMethodName})),eh=([...(null==T?void 0:T.paymentPromotions)?w()(E()(ep,e=>""!==e.label),"key"):[]],e=>A()(en,n=>n==e.defaultCheck)?E()(en,n=>n!==e.defaultCheck):[...en,e.defaultCheck]),ef=e=>{var n,t;let{promotionsCode:o,paymentPromotionCode:l}=e;G.current&&G.current.abort("aborted"),G.current=new AbortController;let i=G.current.signal,r=(null==T?void 0:T.promotions)&&em(T.promotions),a=(null==T?void 0:T.paymentPromotions)&&em(T.paymentPromotions),u=null;eo!==l&&l?u=JSON.parse(l):eo&&o&&(u=JSON.parse(eo));let s=b()(a,e=>"USED"===e.statusCode),c={orderType:null!==(t=null==I?void 0:null===(n=I.customer)||void 0===n?void 0:n.orderType)&&void 0!==t?t:d.Jm.TAISHOP,promotions:[...x()(null!=o?o:en,e=>{let n=JSON.parse(e);return{productId:n.ofProductId,code:n.code,status:"USED"}}),...x()(_()(r,null!=o?o:en,(e,n)=>e.defaultCheck===n),e=>({productId:e.ofProductId,code:e.code,status:"NOT_USED"})),...u?[{productId:u.ofProductId,code:null==u?void 0:u.code,status:"USED"}]:[],...s?[{productId:null==s?void 0:s.ofProductId,code:null==s?void 0:s.code,status:"NOT_USED"}]:[]]};y()(D,500)(c,{setLoading:Y},i),ev(!0)},ey=()=>()=>{var e,n,t;if(W&&L(),O===u.Es.CONFIRM_ORDER&&ec&&(null==I?void 0:null===(e=I.customer)||void 0===e?void 0:e.orderType)===d.Jm.TAISHOP){F({sessionId:S,orderType:H?d.Jm.PRE_ORDER:null!==(t=null==I?void 0:null===(n=I.customer)||void 0===n?void 0:n.orderType)&&void 0!==t?t:d.Jm.TAISHOP}).then(()=>{C(!1)});return}C(!1)};return(0,M.useEffect)(()=>{let e=(null==T?void 0:T.promotions)&&em(T.promotions),n=(null==T?void 0:T.paymentPromotions)&&em(T.paymentPromotions);if(e){let n=E()(e,e=>"USED"===e.statusCode);et(x()(n,"defaultCheck")),z(e)}if(n){var t;let e=b()(n,e=>"USED"===e.statusCode);el(null!==(t=null==e?void 0:e.defaultCheck)&&void 0!==t?t:""),J(n)}},[null==T?void 0:T.paymentPromotions,null==T?void 0:T.promotions]),(0,M.useEffect)(()=>(N&&(Q(null==K?void 0:K.length),ee(null==q?void 0:q.length)),()=>ev(!1)),[N]),null==T||null===(o=T.products)||void 0===o||o.some(e=>e.isSelected&&(null==e?void 0:e.sectorId)===u.Ud.DV&&e.typeId===u.XD.SIM),(0,i.jsx)(m.Z,{showSheet:N,placement:U?"down":"right",setShowSheet:ey(),titleSheet:(0,i.jsx)("span",{className:"text-textOnWhitePrimary h5-20-semibold pc:h6-semibold",children:"Khuyến m\xe3i v\xe0 ưu đ\xe3i"}),width:U?"100%":600,height:U?"90%":"100%",children:(0,i.jsxs)("div",{className:"relative h-full",children:[eu.status&&(0,i.jsxs)("div",{className:"absolute left-[50%] top-[25%] flex animate-fadein gap-2 rounded-2 bg-black-opacity-100 px-3 py-2",style:{transform:"translate(-50%, 0)",zIndex:100},children:[(0,i.jsx)("div",{children:"success"===eu.type?(0,i.jsx)(c.z_l,{}):(0,i.jsx)(c.QqV,{})}),(0,i.jsx)("div",{className:"text-textOnSpecialPrimary b2-medium",children:eu.statusText})]}),ea?(0,i.jsx)(Z,{setAddVoucher:ed,setStatusVoucher:es,setIsChangePromotion:ev}):(0,i.jsxs)("div",{className:"grid gap-2 bg-bgGrayDefault",children:[(0,i.jsxs)("div",{className:"h-[calc(100vh_-_264px)] overflow-y-scroll bg-bgGrayDefault scrollbar-none pc:h-[calc(100vh_-_169px)]",children:[(0,i.jsxs)("div",{className:"grid gap-2 px-4 py-3",children:[(0,i.jsx)("span",{className:"text-textOnWhitePrimary b2-medium",children:"M\xe3 giảm gi\xe1"}),(0,i.jsxs)("div",{className:" flex cursor-pointer items-center gap-2 rounded-2 bg-bgWhiteDefault py-2 pl-3 pr-2",onClick:()=>ed(!0),children:[(0,i.jsx)(c.uhn,{}),(0,i.jsx)("span",{className:"w-full  text-textOnWhitePrimary b2-regular",children:"Nhập m\xe3 giảm gi\xe1 của bạn tại đ\xe2y nh\xe9"}),(0,i.jsx)(c.Eld,{})]}),(0,i.jsx)(k.ZP,{setStatusVoucher:es,setIsChangePromotion:ev})]}),(null==K?void 0:K.length)>0&&(0,i.jsxs)("div",{className:"grid gap-2 px-4 py-3",children:[(0,i.jsx)("span",{className:"text-textOnWhitePrimary b2-medium",children:"Khuyến m\xe3i"}),x()(R()(K,X),e=>(0,i.jsx)(a.D,{onClick:()=>{e.isAllowSelect&&!B()&&(et(eh(e)),ef({promotionsCode:eh(e)}))},keyPromotionCard:null==e?void 0:e.defaultCheck,labelPromotion:e.labelPromotion,detail:e.ofProductName&&"\xc1p dụng cho ".concat(e.ofProductName),description:null==e?void 0:e.detail,view:!0,isAllowSelect:e.isAllowSelect,action:(0,i.jsx)("button",{className:"flex h-[24px] w-[24px] items-center justify-center rounded-full ".concat(e.isAllowSelect&&!B()?"cursor-pointer bg-red-red-2":"cursor-not-allowed bg-iconOnWhiteDisable"),children:A()(en,n=>n===e.defaultCheck)?(0,i.jsx)(c.ayY,{}):(0,i.jsx)(c.c34,{color:e.isAllowSelect?"#DC2626":"#FFFFFF"})})},e.code)),(0,i.jsx)(r.I,{setViewNumber:Q,viewNumber:X,totalLength:null==K?void 0:K.length})]}),!1]}),(0,i.jsxs)("div",{className:"flex flex-col justify-end bg-bgWhiteDefault",children:[(0,i.jsx)("div",{className:"flex h-11 justify-between border-b border-neutral-gray-2 px-4 py-3",children:(0,i.jsxs)("span",{className:"flex items-center text-textOnWhitePrimary b2-medium",children:["Đ\xe3 chọn"," ",(null!==(g=null==en?void 0:en.length)&&void 0!==g?g:0)+(eo?1:0)," ","khuyến m\xe3i v\xe0 ưu đ\xe3i"]})}),(0,i.jsxs)("div",{className:"flex h-[70px] gap-2 px-4 py-3",children:[(0,i.jsxs)("div",{className:"h-[46px] w-1/2",children:[(0,i.jsx)("span",{className:"text-textOnWhiteBrand h6-semibold",children:(0,p.oH)(null==T?void 0:null===(l=T.calculatorPrice)||void 0===l?void 0:l.principalAmountAfterPromotion)}),(0,i.jsxs)("div",{className:"flex h-[18px] gap-0.5 f1-medium",children:[(0,i.jsx)("span",{className:"text-textOnWhitePrimary",children:"Tiết kiệm"}),(0,i.jsx)("span",{className:"text-textOnWhiteBrand",children:(0,p.oH)(null==T?void 0:null===(f=T.calculatorPrice)||void 0===f?void 0:f.totalDiscount)})]})]}),(0,i.jsx)(v.default,{backgroundColor:"red-primary",size:"small",variant:"square",className:"w-[145px] flex-1 b1-medium",onClick:ey(),children:"X\xe1c nhận"})]})]})]})]})})}(o=l||(l={})).NOT_USED="NOT_USED",o.USED="USED",o.NOT_AFFORD="NOT_AFFORD"},9206:function(e,n,t){"use strict";t.d(n,{D:function(){return r}});var o=t(27573),l=t(7653),i=t(20266);function r(e){var n,t;let{keyPromotionCard:r,labelPromotion:a,detail:d,action:u,view:s=!1,isAllowSelect:c=!1,description:v,onClick:m}=e,[p,h]=(0,l.useState)(!1),f=null!==(t=null===(n=document.getElementById("promotion-card-".concat(r)))||void 0===n?void 0:n.offsetHeight)&&void 0!==t?t:null;return(0,l.useEffect)(()=>{f||h(!p)},[f]),s&&(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{onClick:e=>{e.preventDefault(),c&&m()},id:"promotion-card-".concat(r),className:"".concat(c?"cursor-pointer":"cursor-not-allowed","  relative z-10 flex"),children:[(0,o.jsxs)("div",{className:"flex h-fit w-full gap-2 rounded-l-2 bg-bgWhiteDefault p-2",children:[(0,o.jsx)("div",{className:"flex h-11 min-w-11 items-center justify-center rounded-[48px] bg-red-red-2",children:(0,o.jsx)(i.Z,{})}),(0,o.jsxs)("div",{className:"grid w-full",children:[(0,o.jsx)("span",{className:"f1-semibold ".concat(c?"text-textOnWhitePrimary":"text-textOnWhiteDisable"),children:a}),(0,o.jsx)("span",{className:"truncate f2-regular ".concat(c?"text-textOnWhiteSecondary":"text-textOnWhiteDisable"),children:d})]})]}),(0,o.jsxs)("div",{className:"relative flex w-[47px] items-center justify-center rounded-r-2 border-l border-dashed border-bgGrayDefault bg-bgWhiteDefault",children:[(0,o.jsx)("div",{className:"absolute left-[-6px] top-[-6px] h-2.5 w-2.5 rounded-full bg-bgGrayDefault"}),(0,o.jsx)("div",{className:"absolute bottom-[-6px] left-[-6px] h-2.5 w-2.5 rounded-full bg-bgGrayDefault"}),u,(0,o.jsx)("div",{className:"absolute right-[-3px] top-2 grid",children:f&&[...Array(parseInt(String((f-16)/7)))].map((e,n)=>(0,o.jsx)("div",{className:"mb-[1px] h-1.5 w-1.5 rounded-full bg-bgGrayDefault"},r+(null==n?void 0:n.toString())))})]})]},r),v&&(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("div",{className:"absolute right-[20px] z-20 h-1.5 w-20 bg-neutral-gray-2"}),(0,o.jsx)("p",{className:"relative top-[-6px] z-1 w-full rounded-b-2 bg-neutral-gray-2 px-3 pb-1.5 pt-3 text-textOnWhiteSecondary f2-regular",children:v})]})]})}},7405:function(e,n,t){"use strict";t.d(n,{V0:function(){return _},yE:function(){return g}});var o=t(27573),l=t(81780),i=t(90375),r=t(27432),a=t(7653),d=t(9206),u=t(30088),s=t(51319),c=t(5298),v=t.n(c),m=t(92514),p=t.n(m),h=t(95338),f=t(40763),y=t(28847);function g(e,n,t){var o;let l=(null==e?void 0:e.selectedPaymentMethodId)&&[y.x8.INSTALLMENT_CARD,y.x8.HOME_PAYLATER,y.x8.KREDIVO].includes(null==e?void 0:e.selectedPaymentMethodId);if(!(null==n?void 0:null===(o=n.installment)||void 0===o?void 0:o.package)||!l)return;let i=(null==e?void 0:e.bankId)?null==e?void 0:e.bankId:0,r=(null==e?void 0:e.typeCardId)?null==e?void 0:e.typeCardId:0;t({storeType:f.uV.F_SHOP,bankInfo:{pinCode:"",bankId:+i,cardId:+r,bankCode:null==e?void 0:e.bankCode,typeCard:null==e?void 0:e.typeCard}})}function _(e,n,t,o){let l=(null==n?void 0:n.selectedPaymentMethodId)===y.x8.INSTALLMENT_MOMO;((null==n?void 0:n.selectedPaymentMethodId)&&[y.x8.FINANCE].includes(null==n?void 0:n.selectedPaymentMethodId)||l)&&o({financierOptions:{companyId:l?y.Yy.MOMO:null==t?void 0:t.companyId,prePayPercent:null==t?void 0:t.prePayPercent,term:null==t?void 0:t.term}}).then(n=>{if(n){var t,o;let l=null==n?void 0:null===(o=n.cart)||void 0===o?void 0:null===(t=o.installment)||void 0===t?void 0:t.package;e({installmentAmount:null==l?void 0:l.prePaymentAmount})}})}n.ZP=e=>{var n;let{setStatusVoucher:t,setIsChangePromotion:c}=e,{profile:m}=(0,r.O)(),{cart:f,setCart:y,orderFormData:C,sessionId:E,updateCartCustomer:N,fetchInstallmentPackages:b,filterFinancePackage:S,incrementPending:x,decrementPending:I,getCreditCartPackage:P}=(0,i.q)(),T=window.location.href,A=(0,h.vM)(T,null!==(n=null==f?void 0:f.products)&&void 0!==n?n:[]),[O,R]=a.useState([]),[D,w]=a.useState(3);a.useEffect(()=>{null!==m?(0,l._1)({skipCount:0,maxResultCount:100,types:[1,2],status:[1]}).then(e=>R(e.data.items)):R([])},[m]);let M=async e=>{var n,o,i,r,a;if(x(),O.filter(n=>n.seriesCode===e.seriesCode).length>0){if((null==f?void 0:f.vouchers.filter(n=>n.seriesCode===e.seriesCode).length)===0){let i={sessionId:null!=E?E:"",orderType:null!=A?A:1,phoneNumber:null==C?void 0:null===(n=C.customer)||void 0===n?void 0:n.phone,seriesCodes:[null==e?void 0:e.seriesCode],phoneForSeriesCode:(null==e?void 0:e.phoneNumber)||(null==m?void 0:null===(o=m.profile)||void 0===o?void 0:o.mobilePhone),type:"ADDED"};(0,l.ow)(i).then(e=>{c(!0),e&&(y(e.data),(null==C?void 0:C.customer)&&f&&(g(null==C?void 0:C.customer,f,P),_(N,null==C?void 0:C.customer,S,b)))}).catch(e=>{var n,o;t({type:"error",status:!0,statusText:null==e?void 0:null===(o=e.response)||void 0===o?void 0:null===(n=o.error)||void 0===n?void 0:n.message}),setTimeout(()=>{t({type:"",status:!1,statusText:""})},1500)}).finally(()=>I())}else if(null==f?void 0:f.vouchers){let n={sessionId:null!=E?E:"",orderType:null!=A?A:1,phoneNumber:null==C?void 0:null===(i=C.customer)||void 0===i?void 0:i.phone,seriesCodes:[null==e?void 0:e.seriesCode],phoneForSeriesCode:(null==e?void 0:e.phoneNumber)||(null==m?void 0:null===(r=m.profile)||void 0===r?void 0:r.mobilePhone),type:"REMOVED"};return(0,l.ow)(n).then(e=>{c(!0),e&&(y(e.data),(null==C?void 0:C.customer)&&f&&(g(null==C?void 0:C.customer,f,P),_(N,null==C?void 0:C.customer,S,b)))}).finally(()=>I())}}else if(null==f?void 0:f.vouchers){let n={sessionId:null!=E?E:"",orderType:null!=A?A:1,phoneNumber:null==C?void 0:null===(a=C.customer)||void 0===a?void 0:a.phone,seriesCodes:[null==e?void 0:e.seriesCode],phoneForSeriesCode:null==e?void 0:e.phoneNumber,type:"REMOVED"};return(0,l.ow)(n).then(e=>{c(!0),e&&(y(e.data),(null==C?void 0:C.customer)&&f&&(g(null==C?void 0:C.customer,f,P),_(N,null==C?void 0:C.customer,S,b)))}).finally(()=>I())}},k=null==f?void 0:f.vouchers.concat(O).filter((e,n,t)=>n===t.findIndex(n=>n.seriesCode===e.seriesCode));return(0,o.jsxs)(o.Fragment,{children:[!!(null==k?void 0:k.length)&&v()(p()(k,D),e=>{var n;return(0,o.jsx)(d.D,{keyPromotionCard:e.seriesCode,labelPromotion:e.voucherName||e.name,view:!0,isAllowSelect:!0,action:(0,o.jsx)("button",{className:"flex h-[24px] w-[24px] cursor-pointer items-center justify-center rounded-full bg-red-red-2",children:(null==f?void 0:null===(n=f.vouchers)||void 0===n?void 0:n.some(n=>n.seriesCode===e.seriesCode))?(0,o.jsx)(u.ayY,{}):(0,o.jsx)(u.c34,{color:"var(--red-red-7)"})}),onClick:()=>M(e)})}),(0,o.jsx)(s.I,{setViewNumber:w,viewNumber:D,totalLength:(null==f?void 0:f.vouchers)?O.concat(null==f?void 0:f.vouchers).length:0})]})}},28847:function(e,n,t){"use strict";var o,l,i,r,a,d,u,s,c,v,m,p,h,f,y,g,_,C,E,N,b,S,x,I,P;t.d(n,{Es:function(){return a},Gc:function(){return A},IQ:function(){return l},KX:function(){return i},LN:function(){return T},Qm:function(){return s},Ub:function(){return f},Ud:function(){return m},XD:function(){return c},YV:function(){return u},Yv:function(){return p},Yy:function(){return r},a0:function(){return v},oi:function(){return h},x8:function(){return o}}),(y=o||(o={}))[y.CASH=1]="CASH",y[y.CARD=2]="CARD",y[y.EWALLET=3]="EWALLET",y[y.VOUCHER=4]="VOUCHER",y[y.TRANSFER=5]="TRANSFER",y[y.COD=6]="COD",y[y.VNPAY=7]="VNPAY",y[y.ALEPAY=8]="ALEPAY",y[y.BANNO=9]="BANNO",y[y.MOCA=10]="MOCA",y[y.ZALOPAY=11]="ZALOPAY",y[y.TOP_UP=12]="TOP_UP",y[y.FINANCE=15]="FINANCE",y[y.AT_SHOP=16]="AT_SHOP",y[y.TMDT=13]="TMDT",y[y.LAZADA=18]="LAZADA",y[y.SENDO=19]="SENDO",y[y.TIKTOK=21]="TIKTOK",y[y.KREDIVO=14]="KREDIVO",y[y.HOME_PAYLATER=22]="HOME_PAYLATER",y[y.MOMO=25]="MOMO",y[y.INSTALLMENT_CARD=17]="INSTALLMENT_CARD",y[y.INSTALLMENT_MOMO=29]="INSTALLMENT_MOMO",(g=l||(l={}))[g.HDBANK=4]="HDBANK",g[g.FE_CREDIT=29]="FE_CREDIT",g[g.HOME_CREDIT=13]="HOME_CREDIT",g[g.LOTTEE_FINANCE=6]="LOTTEE_FINANCE",g[g.VIB=5]="VIB",g[g.OTHER=0]="OTHER",g[g.MCREDIT=19]="MCREDIT",g[g.MUADEE=44]="MUADEE",g[g.VPBank=8]="VPBank",g[g.SACOMBANK=9]="SACOMBANK",(_=i||(i={}))[_.VISA=1]="VISA",_[_.MASTERCARD=2]="MASTERCARD",_[_.JCB=3]="JCB",(r||(r={})).MOMO="7",(C=a||(a={}))[C.CART=1]="CART",C[C.CONFIRM_ORDER=2]="CONFIRM_ORDER",C[C.INSTALLMENT=3]="INSTALLMENT",(E=d||(d={}))[E.FINANCE=2]="FINANCE",(N=u||(u={}))[N.CARD_INSTALLMENT=1]="CARD_INSTALLMENT",N[N.FINANCIER_INSTALLMENT=2]="FINANCIER_INSTALLMENT",(b=s||(s={}))[b.CARD=1]="CARD",b[b.KREDIVO=2]="KREDIVO",b[b.HOME_PAYLATER=3]="HOME_PAYLATER",(S=c||(c={})).KEY_ONLINE="117",S.SIM="118",S.IPHONE="104",S.APPLE_WATCH="289",(v||(v={})).OLD_MACHINE="060",(m||(m={})).DV="03",(x=p||(p={}))[x.PHASE_1=1]="PHASE_1",x[x.PHASE_2=2]="PHASE_2";let T={15:{min:1e6},22:{min:3e5},17:{min:5e5},14:{min:7e5}};(I=h||(h={})).Kredivo="Kredivo",I.Hpl="Home Paylater",I.InstallmentCard="thẻ t\xedn dụng";let A={LAPTOP_CENTER:{code:"10",name:"Trung t\xe2m laptop"},"FStudio-2":{code:"2",name:"F.Studio"},"FStudio-3":{code:"3",name:"F.Studio"},"FStudio-4":{code:"4",name:"F.Studio"},"FStudio-5":{code:"5",name:"F.Studio"},GARMIN:{code:"6",name:"Garmin"}};(P=f||(f={})).STORE="addressAtShop",P.HOME="addressAtHome"},95338:function(e,n,t){"use strict";t.d(n,{vM:function(){return u},Lh:function(){return d},sg:function(){return M},zV:function(){return g},o_:function(){return _},se:function(){return i},gB:function(){return y},WT:function(){return I},NK:function(){return L},B9:function(){return P},Cw:function(){return T},O1:function(){return R},_A:function(){return O},O3:function(){return A},mG:function(){return k},FU:function(){return w}});var o=t(40763),l=t(85528);let i=function(){var e;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!(null==n?void 0:n.length)||!(null==t?void 0:t.length))return!1;let i=null!==(e=n.filter(e=>!!(null==e?void 0:e.isSelected)))&&void 0!==e?e:[];if(!(null==i?void 0:i.length))return!1;let r=t.find(e=>e.programType===o.nK.PRICE_ONLINE&&e.statusCode===l.f.USED);return!!r&&(null==i?void 0:i.some(e=>e.id===r.ofProductId))};var r=t(46161),a=t.n(r);let d=e=>{let{timeOpen:n,timeClose:t}=e,o=a()(),l=a()("".concat(o.format("YYYY-MM-DD")," ").concat(n)),i=a()("".concat(o.format("YYYY-MM-DD")," ").concat(t));return o.isAfter(l)&&o.isBefore(i)?"Đang mở":"Đ\xf3ng cửa"},u=(e,n)=>{var t;return(null==n?void 0:null===(t=n.filter(e=>(null==e?void 0:e.isSelected)===!0))||void 0===t?void 0:t.some(e=>(null==e?void 0:e.isAllowPreOrder)===!0))?o.Jm.PRE_ORDER:e.includes("/tra-gop")?o.Jm.TRAGOP:o.Jm.TAISHOP};var s=t(49244),c=t(14527),v=t(61117),m=t(39),p=t(97712),h=t(28847);let f=(e,n)=>{let t=[];e||t.push({name:"name",message:"Vui l\xf2ng nhập t\xean"});let o=p.z.string({message:"Vui l\xf2ng nhập số điện thoại"}).regex(v.K_,"Vui l\xf2ng nhập đ\xfang định dạng số điện thoại").safeParse(n);if(!o.success){var l,i,r;t.push({name:"phone",message:(null==o?void 0:null===(r=o.error)||void 0===r?void 0:null===(i=r.errors)||void 0===i?void 0:null===(l=i[0])||void 0===l?void 0:l.message)||""})}return t},y=e=>{var n,t;let l=[],i=null==e?void 0:e.customer;return l.push(...f(null==i?void 0:i.name,null==i?void 0:i.phone)),(null==i?void 0:i.shippingMethod)===o.Zn.RECEIVE_AT_HOME&&(null===(n=e.receiver)||void 0===n?void 0:n.isReceiver)&&!e.receiver.name&&l.push({name:"name_receiver",message:"Vui l\xf2ng nhập t\xean"}),(null==i?void 0:i.shippingMethod)===o.Zn.RECEIVE_AT_HOME&&(null===(t=e.receiver)||void 0===t?void 0:t.isReceiver)&&!e.receiver.phone&&l.push({name:"phone_receiver",message:"Vui l\xf2ng nhập số điện thoại"}),(null==i?void 0:i.shippingMethod)!==o.Zn.RECEIVE_AT_HOME||(null==e?void 0:e.receiveAtHome)||l.push({name:h.Ub.HOME,message:"Vui l\xf2ng chọn th\xf4ng tin nhận h\xe0ng nh\xe0"}),(null==i?void 0:i.shippingMethod)!==o.Zn.RECEIVE_AT_STORE||(null==e?void 0:e.shopDelivery)||l.push({name:h.Ub.STORE,message:"Vui l\xf2ng chọn th\xf4ng tin nhận h\xe0ng tại shop"}),(null==i?void 0:i.selectedPaymentMethodId)||l.push({name:"paymentMethodId",message:"Vui l\xf2ng chọn phương thức thanh to\xe1n"}),(null==i?void 0:i.selectedPaymentMethodId)===h.x8.INSTALLMENT_CARD&&!(null==i?void 0:i.acceptTerms)&&(null==i?void 0:i.bankId)&&[h.IQ.HOME_CREDIT,h.IQ.MCREDIT,h.IQ.FE_CREDIT,h.IQ.MUADEE].includes(null==i?void 0:i.bankId)&&l.push({name:"acceptTerms",message:"Vui l\xf2ng chấp nhận điều khoản để tiếp tục"}),l},g=(e,n)=>{var t,o;let l=[];return(null==e?void 0:null===(t=e.customer)||void 0===t?void 0:t.bankCode)||l.push({name:"bankCode",message:"Vui l\xf2ng chọn ng\xe2n h\xe0ng trả g\xf3p"}),(null==e?void 0:null===(o=e.customer)||void 0===o?void 0:o.typeCard)||l.push({name:"typeCard",message:"Vui l\xf2ng chọn loại thẻ"}),(null==n?void 0:n.package)||l.push({name:"installment_package",message:"Vui l\xf2ng chọn g\xf3i trả g\xf3p"}),l},_=e=>{let n=[];return(null==e?void 0:e.package)||n.push({name:"finacier_package",message:"Vui l\xf2ng chọn g\xf3i trả g\xf3p"}),n},C=e=>{var n,t,l,i,r,a,d;return(null==e?void 0:null===(n=e.customer)||void 0===n?void 0:n.shippingMethod)===o.Zn.RECEIVE_AT_HOME?null!==(a=null==e?void 0:null===(r=e.receiveAtHome)||void 0===r?void 0:null===(i=r.inforDelivery)||void 0===i?void 0:null===(l=i.shop)||void 0===l?void 0:l.shopCode)&&void 0!==a?a:"":null!==(d=null==e?void 0:null===(t=e.shopDelivery)||void 0===t?void 0:t.shopCode)&&void 0!==d?d:""},E=e=>{var n,t,l,i,r,a;return(null==e?void 0:null===(n=e.customer)||void 0===n?void 0:n.shippingMethod)===o.Zn.RECEIVE_AT_STORE?null!==(r=null==e?void 0:null===(i=e.shopDelivery)||void 0===i?void 0:i.toTime)&&void 0!==r?r:"":null!==(a=null==e?void 0:null===(l=e.receiveAtHome)||void 0===l?void 0:null===(t=l.inforDelivery)||void 0===t?void 0:t.toDeliveryTime)&&void 0!==a?a:""},N=e=>{var n,t,o,l,i,r,a,d,u,s,c,v;return(null==e?void 0:e.invoice)&&Object.values(e.invoice).some(e=>e&&""!==e)?{invoice:{custType:null!==(a=null==e?void 0:null===(n=e.invoice)||void 0===n?void 0:n.custType)&&void 0!==a?a:"",taxCode:null!==(d=null==e?void 0:null===(t=e.invoice)||void 0===t?void 0:t.taxCode)&&void 0!==d?d:"",custName:null!==(u=null==e?void 0:null===(o=e.invoice)||void 0===o?void 0:o.custName)&&void 0!==u?u:"",address:null!==(s=null==e?void 0:null===(l=e.invoice)||void 0===l?void 0:l.address)&&void 0!==s?s:"",phone:null!==(c=null==e?void 0:null===(i=e.invoice)||void 0===i?void 0:i.phone)&&void 0!==c?c:"",email:null!==(v=null==e?void 0:null===(r=e.invoice)||void 0===r?void 0:r.email)&&void 0!==v?v:""}}:{}},b=e=>{var n,t,l,i,r,a;return(null===(n=e.receiver)||void 0===n?void 0:n.isReceiver)&&(null==e?void 0:null===(t=e.customer)||void 0===t?void 0:t.shippingMethod)===o.Zn.RECEIVE_AT_HOME?{receiver:{phone:null!==(r=null==e?void 0:null===(l=e.receiver)||void 0===l?void 0:l.phone)&&void 0!==r?r:"",name:null!==(a=null==e?void 0:null===(i=e.receiver)||void 0===i?void 0:i.name)&&void 0!==a?a:""}}:{}},S=e=>{var n,t,o,l,i,r;return{customer:{phone:null!==(l=null==e?void 0:null===(n=e.customer)||void 0===n?void 0:n.phone)&&void 0!==l?l:"",name:null!==(i=null==e?void 0:null===(t=e.customer)||void 0===t?void 0:t.name)&&void 0!==i?i:"",email:null!==(r=null==e?void 0:null===(o=e.customer)||void 0===o?void 0:o.email)&&void 0!==r?r:""}}},x=(e,n)=>{var t,l,i,r,a,d,u,s,c,v,m,p,h,f,y,g,_,C;return{shipment:{method:null!==(y=null==e?void 0:null===(t=e.customer)||void 0===t?void 0:t.shippingMethod)&&void 0!==y?y:o.Zn.RECEIVE_AT_HOME,planningId:(null==e?void 0:null===(l=e.customer)||void 0===l?void 0:l.shippingMethod)===o.Zn.RECEIVE_AT_HOME&&null!==(g=null==e?void 0:null===(r=e.receiveAtHome)||void 0===r?void 0:null===(i=r.inforDelivery)||void 0===i?void 0:i.planningId)&&void 0!==g?g:"",shopCode:n,companyCode:"090800",shopName:null!==(_=(null==e?void 0:null===(a=e.customer)||void 0===a?void 0:a.shippingMethod)===o.Zn.RECEIVE_AT_HOME?null==e?void 0:null===(s=e.receiveAtHome)||void 0===s?void 0:null===(u=s.inforDelivery)||void 0===u?void 0:null===(d=u.shop)||void 0===d?void 0:d.shopName:null==e?void 0:null===(c=e.shopDelivery)||void 0===c?void 0:c.shopName)&&void 0!==_?_:"",address:null!==(C=(null==e?void 0:null===(v=e.customer)||void 0===v?void 0:v.shippingMethod)===o.Zn.RECEIVE_AT_HOME?null==e?void 0:null===(h=e.receiveAtHome)||void 0===h?void 0:null===(p=h.inforDelivery)||void 0===p?void 0:null===(m=p.shop)||void 0===m?void 0:m.address:null==e?void 0:null===(f=e.shopDelivery)||void 0===f?void 0:f.address)&&void 0!==C?C:""}}},I=(e,n,t,i,r)=>{var a,d,u,v,p,h,f,y,g,_,I,P,T,A,O,R,D,w,M,k,L,j,F,H,V,B,U,Z,G,W;let Y=C(e),K=E(e),z=(0,m.ej)("_aff_network")&&((0,m.ej)("aff_sid")||(0,m.ej)("traffic_id"))?{trackingCode:(0,m.ej)("_aff_network")===c.EI&&(0,m.ej)("traffic_id")?null!==(H=(0,m.ej)("traffic_id"))&&void 0!==H?H:"":null!==(V=(0,m.ej)("aff_sid"))&&void 0!==V?V:"",type:(0,m.ej)("_aff_network")===c.EI?c.Ux.MAS_OFFER:c.Ux.ACCESS_TRADE}:null,q=0,J=[null==e?void 0:null===(a=e.customer)||void 0===a?void 0:a.depositInstallmentNote,null!==(B=null==e?void 0:null===(d=e.customer)||void 0===d?void 0:d.note)&&void 0!==B?B:""].filter(e=>e&&""!==e.trim()).join(" - ");return(null==i?void 0:i.orderAttribute)===s.Dg.EDUCATION&&(null==i?void 0:null===(u=i.promotions)||void 0===u?void 0:u.some(e=>e.statusCode===l.f.USED&&e.programType===o.nK.EDUCATION))&&(q=s.Dg.EDUCATION),(null==i?void 0:i.orderAttribute)===s.Dg.AEC&&(null==i?void 0:null===(v=i.promotions)||void 0===v?void 0:v.some(e=>e.statusCode===l.f.USED&&e.programType===o.nK.AEC))&&(q=s.Dg.AEC),(null==i?void 0:null===(p=i.flags)||void 0===p?void 0:p.isVerifyBTS)&&(q=s.Dg.BACK_TO_SCHOOL),(null==i?void 0:null===(h=i.products)||void 0===h?void 0:h.some(e=>e.isAllowPreOrder&&e.isSelected))&&(q=s.Dg.PRE_ORDER,t=o.Jm.PRE_ORDER),r&&t!==o.Jm.TRAGOP&&(q=s.Dg.HOTSALE),{sessionId:n,orderAttribute:q,commitTime:K,note:J,flag:{isOfficeHour:!1,isTechnicalSupport:!!(null==e?void 0:null===(f=e.customer)||void 0===f?void 0:f.isTechnicalSupport),isExchangeProduct:!1,isInstallmentSubscription:0},orderType:t,...N(e),...b(e),...S(e),...x(e,Y),payment:{method:null==e?void 0:null===(y=e.customer)||void 0===y?void 0:y.selectedPaymentMethodId,vendor:"",bankCode:"",cardType:"",pinCode:""},address:{id:"",wardCode:null!==(U=(null==e?void 0:null===(g=e.customer)||void 0===g?void 0:g.shippingMethod)===o.Zn.RECEIVE_AT_HOME?null==e?void 0:null===(I=e.receiveAtHome)||void 0===I?void 0:null===(_=I.ward)||void 0===_?void 0:_.code:null==e?void 0:null===(P=e.shopDelivery)||void 0===P?void 0:P.wardCode)&&void 0!==U?U:"",districtCode:null!==(Z=(null==e?void 0:null===(T=e.customer)||void 0===T?void 0:T.shippingMethod)===o.Zn.RECEIVE_AT_HOME?null==e?void 0:null===(O=e.receiveAtHome)||void 0===O?void 0:null===(A=O.district)||void 0===A?void 0:A.code:null==e?void 0:null===(R=e.shopDelivery)||void 0===R?void 0:R.districtCode)&&void 0!==Z?Z:"",provinceCode:null!==(G=(null==e?void 0:null===(D=e.customer)||void 0===D?void 0:D.shippingMethod)===o.Zn.RECEIVE_AT_HOME?null==e?void 0:null===(M=e.receiveAtHome)||void 0===M?void 0:null===(w=M.city)||void 0===w?void 0:w.code:null==e?void 0:null===(k=e.shopDelivery)||void 0===k?void 0:k.cityCode)&&void 0!==G?G:"",address:null!==(W=(null==e?void 0:null===(L=e.customer)||void 0===L?void 0:L.shippingMethod)===o.Zn.RECEIVE_AT_HOME?null==e?void 0:null===(j=e.receiveAtHome)||void 0===j?void 0:j.address:null==e?void 0:null===(F=e.shopDelivery)||void 0===F?void 0:F.address)&&void 0!==W?W:""},sourceEcom:0,affiliate:z}},P=(e,n,t)=>{let o={...e};if(n.customer){var l,i,r,a,d,u;o.vendorId=h.Qm.CARD,o.contractType=h.YV.CARD_INSTALLMENT,o.installment={bankCode:n.customer.bankCode.toString(),typeCard:n.customer.typeCard.toString(),month:null!==(u=n.customer.month)&&void 0!==u?u:null==t?void 0:null===(l=t.package)||void 0===l?void 0:l.month},o.contractInfo={shopCode:e.shipment.shopCode,phoneNumber:null==n?void 0:null===(i=n.customer)||void 0===i?void 0:i.phone,bankId:null==n?void 0:null===(r=n.customer)||void 0===r?void 0:r.bankId,cardTypeId:null==n?void 0:null===(a=n.customer)||void 0===a?void 0:a.typeCardId,customerName:null==n?void 0:null===(d=n.customer)||void 0===d?void 0:d.name,detail:null==t?void 0:t.package}}return o},T=(e,n)=>{var t,o,l,i,r;let a={...e};return a.contractInfo={contractTypeId:h.YV.FINANCIER_INSTALLMENT,companyId:null!==(i=null==n?void 0:null===(o=n.package)||void 0===o?void 0:null===(t=o.companyId)||void 0===t?void 0:t.toString())&&void 0!==i?i:"",companyName:null!==(r=null==n?void 0:null===(l=n.package)||void 0===l?void 0:l.companyName)&&void 0!==r?r:"",detail:null==n?void 0:n.package},a},A=(e,n)=>{let t={...e};return t.vendorId=h.Qm.KREDIVO,t.contractInfo={detail:{installmentAmount:n}},t},O=(e,n)=>{let t={...e};return t.vendorId=h.Qm.HOME_PAYLATER,t.contractInfo={detail:{installmentAmount:n}},t},R=(e,n,t)=>{var l,i,r,a;if((null==n?void 0:null===(l=n.customer)||void 0===l?void 0:l.selectedPaymentMethodId)&&(()=>{var e,l,i,r,a,d,u,s;let c=(null==n?void 0:null===(e=n.customer)||void 0===e?void 0:e.shippingMethod)===o.Zn.RECEIVE_AT_STORE&&!!(null==n?void 0:null===(l=n.shopDelivery)||void 0===l?void 0:l.pickupType),v=(null==n?void 0:null===(i=n.customer)||void 0===i?void 0:i.shippingMethod)===o.Zn.RECEIVE_AT_HOME&&!(null==n?void 0:null===(d=n.receiveAtHome)||void 0===d?void 0:null===(a=d.inforDelivery)||void 0===a?void 0:null===(r=a.shop)||void 0===r?void 0:r.isInventory);if(!c&&!v||!(null==n?void 0:null===(u=n.customer)||void 0===u?void 0:u.selectedPaymentMethodId)||(null==n?void 0:null===(s=n.customer)||void 0===s?void 0:s.selectedPaymentMethodId)===h.x8.FINANCE)return!1;let m=!1,p=!1;for(let e of(null==t?void 0:t.products)||[])if(e.isSelected&&(m=!!e.isEcomHub,p=(null==e?void 0:e.sectorId)===h.Ud.DV&&e.typeId===h.XD.KEY_ONLINE),m||p)return!1;return!m&&!p})()){let t={[h.x8.INSTALLMENT_CARD]:"Đơn h\xe0ng trả g\xf3p Thẻ t\xedn dụng",[h.x8.HOME_PAYLATER]:"Đơn h\xe0ng trả g\xf3p Home PayLater",[h.x8.KREDIVO]:"Đơn h\xe0ng trả g\xf3p Kredivo",[h.x8.INSTALLMENT_MOMO]:"Đơn h\xe0ng trả g\xf3p MoMo"};e.payment.method=h.x8.COD,e.note=[t[null==n?void 0:null===(i=n.customer)||void 0===i?void 0:i.selectedPaymentMethodId],null!==(a=null==n?void 0:null===(r=n.customer)||void 0===r?void 0:r.note)&&void 0!==a?a:""].filter(e=>e&&""!==e.trim()).join(" - ")}return e};var D=t(23067);function w(e){(0,D.sendGTMEvent)({ecommerce:null}),(0,D.sendGTMEvent)({event:o.J5.VIEW_ITEM,ecommerce:{currency:"VND",items:[e]}})}function M(e){var n,t;let l=e.variants.find(n=>n.sku===e.sku);(0,D.sendGTMEvent)({ecommerce:null}),(0,D.sendGTMEvent)({event:o.J5.ADD_TO_CART,ecommerce:{items:[{index:0,item_id:null==l?void 0:l.sku,item_name:null==l?void 0:l.name,affiliation:"Online",currency:"VND",discount:e.discount||0,item_variant:null==l?void 0:l.color,price:e.price||0,quantity:e.quantity||1,item_brand:e.brandId,item_list_id:JSON.stringify(null==e?void 0:null===(n=e.variants)||void 0===n?void 0:n.map(e=>null==e?void 0:e.sku)),item_list_name:JSON.stringify(null==e?void 0:null===(t=e.variants)||void 0===t?void 0:t.map(e=>null==e?void 0:e.name))}]}})}function k(e){let{calculatorPrice:n,products:t,order_success:l}=e,i=null==t?void 0:t.filter(e=>e.isSelected);i&&((0,D.sendGTMEvent)({ecommerce:null}),(0,D.sendGTMEvent)({event:o.J5.PURCHASE,ecommerce:{transaction_id:l.orderCode,value:n.estimatedPrice||0,shipping:0,currency:"VND",items:null==i?void 0:i.map((e,n)=>{var t,o,l;let i=null==e?void 0:null===(t=e.variants)||void 0===t?void 0:t.find(n=>n.sku===e.sku);return{index:n,item_id:null==i?void 0:i.sku,item_name:null==i?void 0:i.name,affiliation:"Online",discount:e.discount||0,item_brand:e.brandId,price:e.price||0,quantity:e.quantity||1,total_bill:e.totalBill,item_variant:null==i?void 0:i.color,item_list_id:JSON.stringify(null==e?void 0:null===(o=e.variants)||void 0===o?void 0:o.map(e=>null==e?void 0:e.sku)),item_list_name:JSON.stringify(null==e?void 0:null===(l=e.variants)||void 0===l?void 0:l.map(e=>null==e?void 0:e.name))}})}}))}let L=(e,n,t)=>({paymentRequestCode:n.payment.paymentRequestCode,orderCode:n.orderCode,customerId:n.customer.id,shopCode:n.shopCode,transfers:{accountNum:e.accountNumber,accountName:e.accountName,bankName:t.name,image:"",transferNum:"",content:e.bankBranch,amount:n.totalBill,isConfirm:n.totalBill,createdBy:n.modifiedBy,createdByName:n.modifiedByName}})},54951:function(e,n,t){"use strict";t.d(n,{$7:function(){return D},AE:function(){return L},Bk:function(){return d},Cu:function(){return T},Ee:function(){return M},Fs:function(){return w},G5:function(){return m},GR:function(){return h},Ii:function(){return f},K_:function(){return k},Kr:function(){return N},LV:function(){return C},N6:function(){return a},OU:function(){return A},Q8:function(){return s},Qf:function(){return O},Yi:function(){return S},dv:function(){return u},ge:function(){return v},k0:function(){return I},kW:function(){return g},lG:function(){return b},lQ:function(){return E},o6:function(){return x},qw:function(){return y},t:function(){return P},th:function(){return _},tx:function(){return R},uh:function(){return p},xu:function(){return c}});var o=t(86807),l=t(73463);let i=l.ZP.getInstance({baseURL:"BFF_ORDER"}),r=l.ZP.getInstance();async function a(){return await i.get(o.mTn)}async function d(e){return await i.post(o.$LE,e)}async function u(e){return await i.get(o.$LE,e)}async function s(e){return await i.post(o.hL3,e)}async function c(e){return await i.put(o.$LE,e)}async function v(e){return await i.get(o.IXS,{sessionId:e})}async function m(e,n){return await i.post(o.OOg,e,{signal:n})}async function p(e){return await i.post(o.yCe,e)}async function h(e){return await i.delete(o.$LE,e)}async function f(e){return await i.post(o.kYC,e)}async function y(e){return await i.post(o.OOg,e)}async function g(e,n){return await i.post(o.M2i,e,{signal:n})}async function _(e,n){return await i.post(o.qlb,e,{signal:n})}async function C(e){return await i.post(o.klz,e)}async function E(e){return await i.post(o.gRV,e)}async function N(e,n){return await i.post(o.AXS,e,{signal:n})}async function b(e,n){return await i.post(o.Uym,e,{signal:n})}async function S(e,n){return await i.post(o.Zvt,e,{signal:n})}async function x(e){return await i.post(o.Gtv,e)}async function I(e){return await i.post(o.WV1,e)}async function P(e){return await i.post(o.z_o,e)}async function T(e){return await i.post(o.A3B,e)}async function A(e){return await i.post(o.QgE,e)}async function O(e){return await r.post(o.hmo,e)}async function R(e){return await r.post(o.E4f,e)}async function D(e){return await i.get(o.thi,{sku:e})}async function w(e){return await i.post(o.ihf,e)}async function M(e){return await i.delete(o.ihf,e)}async function k(e){return await i.post(o.WhR,e)}async function L(e){return await i.get(o.FmB,{sku:e})}},90375:function(e,n,t){"use strict";let o;t.d(n,{q:function(){return _}});var l=t(24432),i=t(72791),r=t(49244),a=t(40763),d=t(28847),u=t(95338),s=t(54951),c=t(73463),v=t(80674),m=t(55341),p=t.n(m),h=t(87996),f=t(27432);let y={pending:!1,pendingCount:0,cart:null,cartProgress:d.Es.CART,productSelected:[],sessionId:"",paymentMethods:[],countCardItem:null,orderFormData:{receiver:{isReceiver:!1}},installmentPackages:[],bankInfo:null,installmentAmountOptions:null,creditCardPackage:null,financierInfo:null,filterFinancePackage:null,codeWarranties:[],fetchSessionLoading:!1,checkPhoneVoucher:!1,checkChangeShipmentMethod:!1,orderSuccessProcessing:null,isGoldTimeOrder:!1,selectedPromotionCodes:[],selectedCombos:[],cartProductStatusList:[]},g=(e,n)=>({...y,fetchSessionCart:async()=>{try{n().setFetchSessionLoading(!0);let o=n().sessionId;if(!(o=localStorage.getItem(a.WG))){let e=await (0,s.N6)();if((null==e?void 0:e.status)===200){var t;o=null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.sessionId}}e((0,v.Uy)(e=>{e.sessionId=o}));{localStorage.setItem(a.WG,o);let e=new Event("storage");e.key=a.WG,e.newValue=o,window.dispatchEvent(e)}return o&&(await n().fetchCart({sessionId:o}),await n().fetchCountCartItem()),o}catch(e){(0,c.HR)(e),Promise.reject(e)}finally{n().setFetchSessionLoading(!1)}},addProductToCart:async(e,t)=>{var o,l,i,r,a,d,v,m;try{null==t||null===(o=t.setLoading)||void 0===o||o.call(t,!0);let c=null===(i=n().orderFormData)||void 0===i?void 0:null===(l=i.customer)||void 0===l?void 0:l.phone,v=await (0,s.Bk)({phoneNumber:c,...e});if(v){n().setCart(null==v?void 0:v.data),await n().fetchCountCartItem(),null==t||null===(r=t.onSuccess)||void 0===r||r.call(t,v);let o=null==v?void 0:null===(d=v.data)||void 0===d?void 0:null===(a=d.products)||void 0===a?void 0:a.find(n=>n.sku===e.cartItem.itemCart);return o&&(0,u.sg)(o),null==v?void 0:v.data}}catch(e){(0,c.HR)(e)&&(null==t||null===(v=t.onFailure)||void 0===v||v.call(t,e)),Promise.reject(e)}finally{n().codeWarranties||n().selectedCombos.length||null==t||null===(m=t.setLoading)||void 0===m||m.call(t,!1)}},fetchCart:async(t,o)=>{try{var l,i,r,d,u,m;let o=null===(i=n().orderFormData)||void 0===i?void 0:null===(l=i.customer)||void 0===l?void 0:l.phone,a=null!==(m=null===(u=n().orderFormData)||void 0===u?void 0:null===(d=u.receiveAtHome)||void 0===d?void 0:null===(r=d.inforDelivery)||void 0===r?void 0:r.shipmentFee)&&void 0!==m?m:0,c=await (0,s.dv)({phoneNumber:o,shipmentPrice:a,...t});(null==c?void 0:c.status)===200&&(n().setCart(null==c?void 0:c.data),e((0,v.Uy)(e=>{e.sessionId=t.sessionId})))}catch(t){if((0,c.HR)(t)&&"RCA_SESSION_NOT_FOUND:00404"===t.response.error.code){e((0,v.Uy)(e=>{e.sessionId=""})),localStorage.removeItem(a.WG);let t=async()=>{var e;let t=await n().fetchSessionCart();null==o||null===(e=o.onFailure)||void 0===e||e.call(o,t)};await (0,c.XD)(t,{retries:3})}Promise.reject(t)}},setCart:n=>{e((0,v.Uy)(e=>{e.cart=n}))},fetchPaymentMethods:async t=>{var o,l,i,r;try{if(null===(o=(l=n()).incrementPending)||void 0===o||o.call(l),n().sessionId){let n=await (0,s.Q8)(t);e((0,v.Uy)(e=>{e.paymentMethods=(null==n?void 0:n.data)||[]}))}else throw Error("SessionId not found")}catch(n){e((0,v.Uy)(e=>{e.paymentMethods=[]})),(0,c.HR)(n),Promise.reject(n)}finally{null===(i=(r=n()).decrementPending)||void 0===i||i.call(r)}},updateProductInCart:async e=>{var t,o,l,i,r,a,d;try{null===(t=(o=n()).incrementPending)||void 0===t||t.call(o);let a=null!==(r=null===(i=n().orderFormData)||void 0===i?void 0:null===(l=i.customer)||void 0===l?void 0:l.phone)&&void 0!==r?r:"",d=await (0,s.xu)({...e,phoneNumber:a});d&&n().setCart(d.data)}catch(e){(0,c.HR)(e),Promise.reject(e)}finally{null===(a=(d=n()).decrementPending)||void 0===a||a.call(d)}},fetchCountCartItem:async()=>{try{let t=n().sessionId;if(t){let n=await (0,s.ge)(t);e((0,v.Uy)(e=>{e.countCardItem=(null==n?void 0:n.data)||null}))}}catch(n){e((0,v.Uy)(e=>{e.countCardItem=null})),(0,c.HR)(n),Promise.reject(n)}},postSelectPromotion:async(t,o,l,i)=>{var r,u,m,p,h,f,y,g,_,C,E,N,b,S,x,I,P;null==o||null===(r=o.setLoading)||void 0===r||r.call(o,!0);try{i&&(null===(u=(m=n()).incrementPending)||void 0===u||u.call(m));let o=n().sessionId,r=null===(h=n().orderFormData)||void 0===h?void 0:null===(p=h.shopDelivery)||void 0===p?void 0:p.shopCode,c=null===(y=n().orderFormData)||void 0===y?void 0:null===(f=y.customer)||void 0===f?void 0:f.phone,x=null===(g=n().orderFormData.customer)||void 0===g?void 0:g.selectedPaymentMethodId,I=null===(C=n().orderFormData)||void 0===C?void 0:null===(_=C.customer)||void 0===_?void 0:_.orderType,P=null===(N=n().cart)||void 0===N?void 0:null===(E=N.installment)||void 0===E?void 0:E.type,T=null===(S=n().cart)||void 0===S?void 0:null===(b=S.installment)||void 0===b?void 0:b.vendor,A={...t,sessionId:null!=o?o:"",phoneNumber:c,shopCode:null!=r?r:"",contractType:P,vendorId:T};if(o){let t=await (0,s.G5)(A,l);if(!t)return;if(x&&[d.x8.INSTALLMENT_CARD,d.x8.KREDIVO,d.x8.HOME_PAYLATER].includes(x)&&I===a.Jm.TRAGOP){let n=null==t?void 0:t.data;e((0,v.Uy)(e=>{e.creditCardPackage=n||null,e.cart=(null==n?void 0:n.cart)||null,e.installmentAmountOptions=(null==n?void 0:n.amountOptions)||[]}))}else{let e=t.data;n().setCart(e)}}}catch(e){(0,c.HR)(e),Promise.reject(e)}finally{null==o||null===(x=o.setLoading)||void 0===x||x.call(o,!1),null===(I=(P=n()).decrementPending)||void 0===I||I.call(P)}},setOrderFormData:n=>{e((0,v.Uy)(e=>{e.orderFormData={...e.orderFormData,...n}}))},updateCartCustomer:n=>{e((0,v.Uy)(e=>{var t;e.orderFormData={...e.orderFormData,customer:{...null===(t=e.orderFormData)||void 0===t?void 0:t.customer,...n}}}))},updateCodeWarranty:n=>{e((0,v.Uy)(e=>{e.codeWarranties=n}))},setOrderFormError:n=>{e((0,v.Uy)(e=>{var t,o,l,i;let r=null===(o=e.orderFormData)||void 0===o?void 0:null===(t=o.errors)||void 0===t?void 0:t.find(e=>e.name===n.name);r?r.message=n.message:e.orderFormData={...e.orderFormData,errors:[...null!==(i=null===(l=e.orderFormData)||void 0===l?void 0:l.errors)&&void 0!==i?i:[],{name:n.name,message:n.message}]}}))},clearOrderFormError:n=>{e((0,v.Uy)(e=>{var t,o;e.orderFormData={...e.orderFormData,errors:null===(o=e.orderFormData)||void 0===o?void 0:null===(t=o.errors)||void 0===t?void 0:t.filter(e=>!n.includes(e.name))}}))},toggleItem:async e=>{var t,o,l,i,r,a,d;try{null===(t=(o=n()).incrementPending)||void 0===t||t.call(o);let a=null!==(r=null===(i=n().orderFormData)||void 0===i?void 0:null===(l=i.customer)||void 0===l?void 0:l.phone)&&void 0!==r?r:"",d=await (0,s.uh)({...e,phoneNumber:a});d&&n().setCart(d.data)}catch(e){(0,c.HR)(e),Promise.reject(e)}finally{null===(a=(d=n()).decrementPending)||void 0===a||a.call(d)}},mergeCart:async t=>{try{var o,l,i;let e=null!==(i=null===(l=n().orderFormData)||void 0===l?void 0:null===(o=l.customer)||void 0===o?void 0:o.phone)&&void 0!==i?i:"",r=await (0,s.Ii)({...t,phoneNumber:e});r&&n().setCart(r.data)}catch(t){(0,c.HR)(t)&&"RCA_SESSION_NOT_FOUND:00404"===t.response.error.code&&(e((0,v.Uy)(e=>{e.sessionId=""})),localStorage.removeItem(a.WG),await (0,c.XD)(n().fetchSessionCart,{retries:3})),Promise.reject(t)}},deleteItem:async(e,t)=>{var o,l,i,r,a,d,u,v,m;try{null===(o=(l=n()).incrementPending)||void 0===o||o.call(l);let u=null!==(d=null===(r=n().orderFormData)||void 0===r?void 0:null===(i=r.customer)||void 0===i?void 0:i.phone)&&void 0!==d?d:"",c=await (0,s.GR)({...e,phoneNumber:u});c&&(n().setCart(c.data),await n().fetchCountCartItem()),null==t||null===(a=t.onSuccess)||void 0===a||a.call(t)}catch(e){null==t||null===(u=t.onFailure)||void 0===u||u.call(t),(0,c.HR)(e),Promise.reject(e)}finally{null===(v=(m=n()).decrementPending)||void 0===v||v.call(m)}},updateSelectedPromotion:async(e,t)=>{try{var o,l,i;let r=null===(l=n().orderFormData)||void 0===l?void 0:null===(o=l.customer)||void 0===o?void 0:o.phone,a=await (0,s.qw)({...e,phoneNumber:r});null==t||null===(i=t.onSuccess)||void 0===i||i.call(t,null==a?void 0:a.data)}catch(e){(0,c.HR)(e),Promise.reject(e)}},fetchInstallmentPackages:async(t,o)=>{var l,i,r,a,d,u;try{null===(l=(i=n()).incrementPending)||void 0===l||l.call(i);let d=null===(a=n().orderFormData)||void 0===a?void 0:null===(r=a.customer)||void 0===r?void 0:r.phone,u=n().sessionId,c=await (0,s.kW)({...t,phoneNumber:d,sessionId:u},o);return e((0,v.Uy)(e=>{var n,t;e.installmentPackages=(null==c?void 0:null===(n=c.data)||void 0===n?void 0:n.packages)||[],e.cart=null==c?void 0:null===(t=c.data)||void 0===t?void 0:t.cart,e.financierInfo=(0,h.e)(null==c?void 0:c.data,["financeCompany","terms","amountOptions"])})),null==c?void 0:c.data}catch(n){e((0,v.Uy)(e=>{e.installmentPackages=[]})),(0,c.HR)(n),Promise.reject(n)}finally{null===(d=(u=n()).decrementPending)||void 0===d||d.call(u)}},saveCartInstallmentPackages:async(t,o)=>{var l,i,r,a,d,u;try{null===(l=(i=n()).incrementPending)||void 0===l||l.call(i);let d=null===(a=n().orderFormData)||void 0===a?void 0:null===(r=a.customer)||void 0===r?void 0:r.phone,u=await (0,s.th)({phoneNumber:d,...t},o);return e((0,v.Uy)(e=>{e.cart=(null==u?void 0:u.data)||[]})),(null==u?void 0:u.data)||void 0}catch(e){(0,c.HR)(e),Promise.reject(e)}finally{null===(d=(u=n()).decrementPending)||void 0===d||d.call(u)}},createOrder:async(e,t)=>{var o,l,i,r;try{null==t||null===(o=t.setLoading)||void 0===o||o.call(t,!0);let{data:i}=await (0,s.LV)(e),r=n().cart;if(r){let{products:e,calculatorPrice:n}=r;(0,u.mG)({products:e,calculatorPrice:n,order_success:i})}null==t||null===(l=t.onSuccess)||void 0===l||l.call(t,i)}catch(e){(0,c.HR)(e)&&(null==t||null===(i=t.onFailure)||void 0===i||i.call(t,e)),Promise.reject(e)}finally{null==t||null===(r=t.setLoading)||void 0===r||r.call(t,!1)}},getAllBank:async t=>{try{var o,l,i,a;let u=await (0,s.lQ)(t),c=n().cart;(null==c?void 0:c.orderAttribute)===r.Dg.AEC&&(null==c?void 0:null===(o=c.flags)||void 0===o?void 0:o.isVPBank)&&(null==u?void 0:null===(l=u.data)||void 0===l?void 0:l.banks)&&(u.data.banks=null==u?void 0:null===(a=u.data)||void 0===a?void 0:null===(i=a.banks)||void 0===i?void 0:i.filter(e=>e.bankId===d.IQ.VPBank)),e((0,v.Uy)(e=>{e.bankInfo=(null==u?void 0:u.data)||null}))}catch(n){e((0,v.Uy)(e=>{e.bankInfo=null})),Promise.reject(n)}},getCreditCartPackage:async(t,o)=>{var l,i,r,u,c,m,h;try{null===(l=(i=n()).incrementPending)||void 0===l||l.call(i);let m=n().sessionId,h=null===(r=n().orderFormData.customer)||void 0===r?void 0:r.selectedPaymentMethodId,f=null===(c=n().orderFormData)||void 0===c?void 0:null===(u=c.customer)||void 0===u?void 0:u.phone;if(m){let n;if(h===(null===d.x8||void 0===d.x8?void 0:d.x8.INSTALLMENT_CARD)){let e={...t,sessionId:m,phoneNumber:f};n=await (0,s.Kr)(e,o)}else if(h===(null===d.x8||void 0===d.x8?void 0:d.x8.HOME_PAYLATER)){let e={...t,phoneNumber:f,sessionId:m,orderType:a.Jm.TRAGOP};n=await (0,s.lG)(p()(e,"bankInfo"),o)}else{let e={...t,phoneNumber:f,sessionId:m,orderType:a.Jm.TRAGOP};n=await (0,s.Yi)(p()(e,"bankInfo"),o)}return e((0,v.Uy)(e=>{var t,o;e.creditCardPackage=(null==n?void 0:n.data)||null,e.cart=(null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.cart)||null,e.installmentAmountOptions=(null==n?void 0:null===(o=n.data)||void 0===o?void 0:o.amountOptions)||[]})),null==n?void 0:n.data}return Promise.resolve(null)}catch(n){return e((0,v.Uy)(e=>{e.creditCardPackage=null})),Promise.reject(n)}finally{null===(m=(h=n()).decrementPending)||void 0===m||m.call(h)}},installmentBank:async t=>{try{let y=n().sessionId;if(y){var o,l,i,r,u,c,m,p,h,f;let g={sessionId:y,contractType:d.YV.CARD_INSTALLMENT,vendorId:d.Qm.CARD,storeType:a.uV.F_SHOP,orderType:a.Jm.TRAGOP,bankInfo:{bankCode:null!==(m=null==t?void 0:null===(o=t.bankInfo)||void 0===o?void 0:o.bankCode)&&void 0!==m?m:"",typeCard:null!==(p=null==t?void 0:null===(l=t.bankInfo)||void 0===l?void 0:l.typeCard)&&void 0!==p?p:"",bankId:null!==(h=null==t?void 0:null===(i=t.bankInfo)||void 0===i?void 0:i.bankId)&&void 0!==h?h:0,cardId:null!==(f=null==t?void 0:null===(r=t.bankInfo)||void 0===r?void 0:r.cardId)&&void 0!==f?f:0}},_=null===(c=n().orderFormData)||void 0===c?void 0:null===(u=c.customer)||void 0===u?void 0:u.phone,C=await (0,s.Cu)({phoneNumber:_,...g});return e((0,v.Uy)(e=>{e.cart=(null==C?void 0:C.data)||[]})),null==C?void 0:C.data}}catch(e){Promise.reject(e)}},installmentVendor:async t=>{var o,l,i,r,d,u,c;try{null===(o=(l=n()).incrementPending)||void 0===o||o.call(l);let u=n().sessionId;if(u){let o={sessionId:u,contractType:null!==(d=t.contractType)&&void 0!==d?d:0,vendorId:t.vendorId,orderType:a.Jm.TRAGOP},l=null===(r=n().orderFormData)||void 0===r?void 0:null===(i=r.customer)||void 0===i?void 0:i.phone,c=await (0,s.OU)({phoneNumber:l,...o});e((0,v.Uy)(e=>{e.cart=(null==c?void 0:c.data)||[]}))}}catch(e){Promise.reject(e)}finally{null===(u=(c=n()).decrementPending)||void 0===u||u.call(c)}},setCartProgress:n=>{e((0,v.Uy)(e=>{e.cartProgress=n}))},clearCart:async()=>{e((0,v.Uy)(e=>{e.cart=null,e.productSelected=[],e.sessionId="",e.paymentMethods=[],e.countCardItem=null,e.orderFormData={},e.installmentPackages=[],e.bankInfo=null,e.creditCardPackage=null,e.pending=!1,e.pendingCount=0,e.cartProgress=d.Es.CART})),localStorage.removeItem(a.WG);let t=await (0,c.XD)(n().fetchSessionCart,{retries:3}),o=f.O.getState().profile;if(o){let e=await (0,s.Ii)({sessionId:t,customerId:o.customerId,shipmentPrice:0,phoneNumber:"",shopCode:""});e&&n().setCart(e.data)}},replaceCartItem:async(e,t)=>{var o,l,i,r,a,d,u,v;try{null===(o=(l=n()).incrementPending)||void 0===o||o.call(l);let u=null!==(a=null===(r=n().orderFormData)||void 0===r?void 0:null===(i=r.customer)||void 0===i?void 0:i.phone)&&void 0!==a?a:"",c=await (0,s.o6)({...e,phoneNumber:u});c&&(n().setCart(c.data),null==t||null===(d=t.onSuccess)||void 0===d||d.call(t,c))}catch(e){(0,c.HR)(e),Promise.reject(e)}finally{null===(u=(v=n()).decrementPending)||void 0===u||u.call(v)}},selectedWarranty:async(e,t)=>{var o,l,i,r,a,d;try{let t=null!==(i=null===(l=n().orderFormData)||void 0===l?void 0:null===(o=l.customer)||void 0===o?void 0:o.phone)&&void 0!==i?i:"",r=await (0,s.k0)({...e,phoneNumber:t});r&&n().setCart(r.data)}catch(e){null==t||null===(d=t.onFailure)||void 0===d||d.call(t,(0,c.HR)(e)?null==e?void 0:null===(a=e.response)||void 0===a?void 0:null===(r=a.error)||void 0===r?void 0:r.message:"Đ\xe3 c\xf3 lỗi xảy ra. Vui l\xf2ng thử lại."),Promise.reject(e)}},ExchangeLoyalty:async e=>{try{var t,o,l;let i=null!==(l=null===(o=n().orderFormData)||void 0===o?void 0:null===(t=o.customer)||void 0===t?void 0:t.phone)&&void 0!==l?l:"",r=await (0,s.t)({phoneNumber:i,...e});r&&n().setCart(r.data)}catch(e){(0,c.HR)(e),Promise.reject(e)}},setFilterFinancePackage:async n=>{e((0,v.Uy)(e=>{e.filterFinancePackage={...e.filterFinancePackage||{},...n}}))},setFetchSessionLoading(n){e((0,v.Uy)(e=>{e.fetchSessionLoading=n}))},setCheckPhoneVoucher(n){e((0,v.Uy)(e=>{e.checkPhoneVoucher=n}))},setCheckChangeShipmentMethod(n){e((0,v.Uy)(e=>{e.checkChangeShipmentMethod=n}))},setOrderSuccessProcessing(n){e((0,v.Uy)(e=>{e.orderSuccessProcessing=n}))},setIsGoldTimeOrder(n){e((0,v.Uy)(e=>{e.isGoldTimeOrder=n}))},setSelectedPromotionCodes(n){e((0,v.Uy)(e=>{e.selectedPromotionCodes=n}))},addProductCombo:async(e,t)=>{var o,l,i,r,a,d,u,v;try{null===(o=(l=n()).incrementPending)||void 0===o||o.call(l);let r=await (0,s.Fs)(e);r&&(n().setCart(r.data),(null==t?void 0:t.onSuccess)&&(null==t||null===(i=t.onSuccess)||void 0===i||i.call(t)))}catch(e){null==t||null===(d=t.onFailure)||void 0===d||d.call(t,(0,c.HR)(e)?null==e?void 0:null===(a=e.response)||void 0===a?void 0:null===(r=a.error)||void 0===r?void 0:r.message:"Đ\xe3 c\xf3 lỗi xảy ra. Vui l\xf2ng thử lại."),Promise.reject(e)}finally{null===(v=n())||void 0===v||null===(u=v.decrementPending)||void 0===u||u.call(v)}},deleteProductCombo:async(e,t)=>{var o,l,i,r,a,d,u;try{null===(o=(l=n()).incrementPending)||void 0===o||o.call(l);let t=await (0,s.Ee)(e);t&&n().setCart(t.data)}catch(e){null==t||null===(a=t.onFailure)||void 0===a||a.call(t,(0,c.HR)(e)?null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(i=r.error)||void 0===i?void 0:i.message:"Đ\xe3 c\xf3 lỗi xảy ra. Vui l\xf2ng thử lại."),Promise.reject(e)}finally{null===(u=n())||void 0===u||null===(d=u.decrementPending)||void 0===d||d.call(u)}},setSelectedCombos:n=>{e((0,v.Uy)(e=>{e.selectedCombos=n}))},validateProductsInstallment:async e=>{try{let n=await (0,s.K_)(e);if(n)return n.data}catch(e){Promise.reject(e)}},setCartProductStatusList:n=>{e((0,v.Uy)(e=>{e.cartProductStatusList=n}))},getProductStatusByListSku:async n=>{try{let{data:t}=await (0,s.AE)(n);e((0,v.Uy)(e=>{e.cartProductStatusList=t}))}catch(e){Promise.reject(e)}}}),_=(0,l.Ue)((0,i.mW)((0,i.tJ)((o=(e,n,t)=>({...g(e,n,t),pending:!1,pendingCount:0,incrementPending:()=>e(e=>{let n=e.pendingCount+1;return{pendingCount:n,pending:n>0}}),decrementPending:()=>e(e=>{let n=Math.max(0,e.pendingCount-1);return{pendingCount:n,pending:n>0}})}),(e,n,t)=>{let l=async e=>{let n=f.O.getState().profile;if(n&&e){let t=_.getState().mergeCart;await t({sessionId:e,customerId:n.customerId,shipmentPrice:0,phoneNumber:"",shopCode:""}),await _.getState().fetchCountCartItem()}};return window.addEventListener("storage",async e=>{var t;let o=null===(t=n())||void 0===t?void 0:t.sessionId,i=e.newValue;e.key===a.WG&&i&&i!==o&&(o||await n().fetchSessionCart(),await n().fetchCart({sessionId:i},{onFailure:l}))}),o(e,n,t)}),{name:"app-storage",storage:(0,i.FL)(()=>sessionStorage),partialize:e=>({...e,orderFormData:p()(null==e?void 0:e.orderFormData,"errors"),sessionId:void 0})})))},27432:function(e,n,t){"use strict";t.d(n,{O:function(){return r}});var o=t(72791),l=t(24432),i=t(90375);let r=(0,l.Ue)((0,o.XR)(e=>({profile:null,loading:!1,setProfile:n=>e({profile:n}),setLoading:n=>e({loading:n}),resetProfile:()=>e({profile:null})})));r.subscribe(e=>e.profile,async e=>{let n=i.q.getState().sessionId;n||(n=await i.q.getState().fetchSessionCart()),e&&n&&(await i.q.getState().mergeCart({sessionId:n,customerId:e.customerId,shipmentPrice:0,phoneNumber:"",shopCode:""}),await i.q.getState().fetchCountCartItem())},{fireImmediately:!0})},51459:function(e,n,t){"use strict";var o=t(27573),l=t(87659);let i=(0,t(7653).forwardRef)((e,n)=>(0,o.jsx)(l.default,{...e,href:e.href||"#",prefetch:e.prefetch||!1,ref:n}));i.displayName="FPTShopLink",n.Z=i},21010:function(e,n,t){"use strict";var o=t(27573),l=t(53469),i=t(70047),r=t(51459),a=t(7653),d=t(54965),u=t(97704),s=t.n(u);let c=(0,i.j)(s().root,{variants:{size:{"very-large":s().btnVeryLarge,large:s().btnLarge,medium:s().btnMedium,small:s().btnSmall,"very-small":s().btnVerySmall},backgroundColor:{"red-primary":s().redPrimary,"red-secondary":s().redSecondary,"black-primary":s().blackPrimary,"black-secondary":s().blackSecondary,"white-primary":s().whitePrimary,"white-secondary":s().whiteSecondary,"bg-gray-pressed":s().bgGrayPressed,"bg-blue-Primary":s().bgSemanticBlueLink,"bg-transparent":s().bgTransparent,"bg-blue-secondary":s().bgBlueSecondary,"blue-primary":s().bluePrimary,"blue-secondary":s().blueSecondary},variant:{icon:s().btnIcon,"icon-square":s().btnIconSquare,text:s().text,square:s().btnSquare}},defaultVariants:{size:"medium",backgroundColor:"red-primary"}}),v=e=>"href"in e,m=(0,a.forwardRef)((e,n)=>{let{children:t,iconRight:i,iconLeft:a,loading:u,disabled:m,className:p,isExternalLink:h,backgroundColor:f,subContent:y,...g}=e,_=v(e)?r.Z:"button",C={};v(e)&&(h||"_blank"===e.target)&&(_="a",C={target:"_blank",rel:"noopener",...C});let E=(0,l.Z)(c({...g,backgroundColor:f}),{[s().btnIconLeft]:a,[s().btnIconRight]:i,[s().disabled]:m,[s().loading]:u},p);return(0,o.jsxs)(_,{className:E,...C,...g,ref:n,children:[u&&(0,o.jsx)("span",{className:s().loadingWrap,children:(0,o.jsx)(d.Z,{color:f})}),a," ","square"===e.variant?(0,o.jsxs)("span",{children:[t,y&&(0,o.jsxs)("small",{className:s().small,children:[" ",y]})]}):t," ",i]})});n.default=m},20266:function(e,n,t){"use strict";var o=t(27573);n.Z=e=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",...e,children:[(0,o.jsx)("path",{d:"M26.7233 5.71704L30.1623 19.6235C30.2881 20.1317 29.9874 20.6484 29.4902 20.7771L9.27562 26.0109C8.63108 26.1775 7.94958 25.968 7.5026 25.4644L2.82365 20.1972C2.41971 19.7426 2.2641 19.113 2.40813 18.5162L4.07575 11.6065C4.23523 10.9458 4.73739 10.4291 5.38137 10.2626L25.5959 5.02928C26.0926 4.90054 26.5975 5.20828 26.7233 5.71704Z",fill:"#EF4444"}),(0,o.jsx)("path",{d:"M28.8525 11.6417V26.1156C28.8525 26.6046 28.4651 27.0004 27.9878 27.0004H7.0735C6.4091 27.0004 5.79823 26.6255 5.48534 26.0253L2.2119 19.7457C1.92937 19.2036 1.92937 18.5537 2.2119 18.0122L5.48534 11.732C5.79823 11.1318 6.40855 10.7568 7.0735 10.7568H27.9878C28.4656 10.7568 28.8525 11.1532 28.8525 11.6417Z",fill:"white"}),(0,o.jsx)("path",{d:"M7.83626 18.8781C7.83626 19.5766 7.28278 20.143 6.59962 20.143C5.91646 20.143 5.36353 19.5766 5.36353 18.8781C5.36353 18.1796 5.91701 17.6133 6.59962 17.6133C7.28223 17.6133 7.83626 18.1796 7.83626 18.8781Z",fill:"#FEE2E2"}),(0,o.jsx)("path",{d:"M16.4658 13.9346C15.3241 13.9346 14.3954 14.8843 14.3954 16.0526C14.3954 17.2209 15.3236 18.1712 16.4658 18.1712C17.6081 18.1712 18.5363 17.2215 18.5363 16.0526C18.5363 14.8838 17.6076 13.9346 16.4658 13.9346ZM16.4658 16.759C16.0845 16.759 15.7755 16.4434 15.7755 16.0526C15.7755 15.6619 16.084 15.3462 16.4658 15.3462C16.8477 15.3462 17.1562 15.6624 17.1562 16.0526C17.1562 16.4428 16.8472 16.759 16.4658 16.759Z",fill:"#EF4444"}),(0,o.jsx)("path",{d:"M22.5611 15.033L17.0401 23.5069C16.832 23.8265 16.4055 23.9213 16.0832 23.7022C15.7659 23.486 15.6804 23.0478 15.8917 22.7237L21.4128 14.2498C21.6219 13.9251 22.0501 13.8365 22.3696 14.0533C22.6869 14.2701 22.7725 14.7083 22.5611 15.033Z",fill:"#EF4444"}),(0,o.jsx)("path",{d:"M21.9868 19.585C20.8451 19.585 19.9164 20.5347 19.9164 21.703C19.9164 22.8713 20.8446 23.8216 21.9868 23.8216C23.1291 23.8216 24.0573 22.8718 24.0573 21.7036C24.0573 20.5353 23.1286 19.585 21.9868 19.585ZM21.9868 22.4094C21.6055 22.4094 21.2965 22.0937 21.2965 21.703C21.2965 21.3123 21.605 20.9966 21.9868 20.9966C22.3687 20.9966 22.6766 21.3128 22.6772 21.703C22.6772 22.0932 22.3681 22.4094 21.9868 22.4094Z",fill:"#EF4444"})]})},54965:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var o=t(27573),l=t(52880),i=t.n(l),r=t(53469);function a(e){let{color:n="red-primary",className:t}=e,l=(0,r.Z)(i().loader,{[i().redPrimary]:"red-primary"===n,[i().redSecondary]:"red-secondary"===n,[i().blackPrimary]:"black-primary"===n,[i().blackSecondary]:"black-secondary"===n,[i().whitePrimary]:"white-primary"===n,[i().whiteSecondary]:"white-secondary"===n},t);return(0,o.jsx)("span",{className:l})}},72150:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return h}});var o=t(27573),l=t(7653),i=t(3458),r=t(21010),a=t(9017),d=t(44343),u=t.n(d),s=t(42291);let c=null;var v=e=>{let{component:n,proceed:t,beforeClose:o,...i}=e,r=!1;if(!n||"function"!=typeof n)throw Error("A valid component must be provided.");let a=()=>{c&&(c.unmount(),c=null)},d=()=>{o&&"function"==typeof o&&o(),a()},u=()=>{a()},v=()=>{let e={show:!0,isLoading:r,abort:d,close:u,proceed:t,...i},o=(0,l.createElement)(n,e);c?c.render(o):(c=(0,s.createRoot)(document.createElement("modal-root"))).render(o)},m=()=>{v()};return{open:()=>{m()},abort:d,close:u,setIsLoading:e=>{r=e,v()}}},m=t(53469);let p=e=>{let{afterOpen:n,afterClose:t,close:d,primaryBtn:s,secondaryBtn:c,btnAreaClassName:v,show:p,title:h,subContent:f,customClass:y,customPopupSize:g,customPopupHeader:_,closeWhenClickOutSide:C=!0,size:E,children:N,isShowTitleInFooter:b=!1,colorIcon:S,headerStyle:x,bodyStyle:I,footerStyle:P,customClassMain:T}=e;E=E||"small",C=void 0===C||C;let A={small:u().smallSize,medium:u().mediumSize,large:u().largeSize,mobile:u().mobileSize},O="mobile"===E,[R,D]=(0,l.useState)(p);return(0,l.useEffect)(()=>{R&&"function"==typeof n&&n(),R||"function"!=typeof t||t()},[R]),(0,l.useEffect)(()=>{D(p)},[p]),(0,i.createPortal)((0,o.jsxs)("div",{className:"".concat(u().wrapper," ").concat(y||""," ").concat(p?u().showPopup:u().hidePopup),style:{zIndex:1e4},children:[(0,o.jsxs)("div",{className:"".concat(u().container," ").concat(A[E]," ").concat(g||""),children:[(0,o.jsxs)("div",{className:"".concat(u().header," ").concat(_||""),style:x,children:[!b&&h&&(0,o.jsx)("div",{className:u().title,children:h}),(0,o.jsx)("div",{className:u().closePopupIcon,onClick:d,children:(0,o.jsx)(a.UiA,{color:S})})]}),(0,o.jsx)("div",{className:(0,m.Z)(u().main,T),style:I,children:N}),f||(null==s?void 0:s.text)||(null==c?void 0:c.text)?(0,o.jsxs)("div",{className:u().footer,style:P,children:[b&&h&&(0,o.jsx)("div",{className:u().title,children:h}),f?(0,o.jsx)("div",{className:u().subContent,children:f}):null,(0,o.jsxs)("div",{className:"".concat(u().btnArea," ").concat(v),children:[(null==c?void 0:c.text)?(0,o.jsx)(r.default,{...c,onClick:()=>{"function"==typeof(null==c?void 0:c.onClick)&&c.onClick(d)},size:O?"large":"very-large",variant:"square",backgroundColor:"red-secondary",className:"".concat(u().button," ").concat(null==c?void 0:c.className),children:c.text}):null,(null==s?void 0:s.text)?(0,o.jsx)(r.default,{...s,onClick:()=>{"function"==typeof(null==s?void 0:s.onClick)&&(null==s||s.onClick(d))},size:O?"large":"very-large",backgroundColor:"red-primary",variant:"square",className:"".concat(u().button," ").concat(null==s?void 0:s.className),children:s.text}):null]})]}):null]}),(0,o.jsx)("div",{className:u().overlay,onClick:()=>{C&&d()}})]}),document.body)};p.open=e=>{v({component:p,..."string"==typeof e?{children:(0,o.jsx)("div",{className:"p-2",children:e})}:e}).open()};var h=p},13322:function(e,n,t){"use strict";var o=t(27573),l=t(84104),i=t.n(l),r=t(53469),a=t(7653);n.Z=e=>{let{label:n="",content:t=(0,o.jsx)(o.Fragment,{}),disabled:l=!1,value:d,size:u="medium",name:s="",checked:c=!1,onChange:v,className:m,labelClass:p,fStudio:h=!1,...f}=e,y=(0,r.Z)([i().toggleRadioLabel,p],"medium"===u?"b2-regular":"b1-regular",{[i().labelRadioMedium]:"medium"===u,[i().labelRadioLarge]:"large"===u}),[g,_]=(0,a.useState)(c);(0,a.useEffect)(()=>{_(c)},[c]);let C=Math.random();return(0,o.jsxs)("div",{className:m,children:[(0,o.jsx)("input",{id:"radioButtonId-".concat(C.toString()+d),className:(0,r.Z)(i().toggleRadio,{[i().fstudio]:h}),value:d,type:"radio",name:s,onChange:e=>v&&v(e.target.value),disabled:l,checked:g,...f}),(0,o.jsx)("label",{htmlFor:"radioButtonId-".concat(C.toString()+d),className:y,children:n}),t]})}},96865:function(e,n,t){"use strict";t.d(n,{Z:function(){return y}});var o=t(27573),l=t(53469),i=t(7653),r=t(3458),a=t(52810),d=t.n(a),u=e=>{let{setShowBackdrop:n,showBackdrop:t,darkMode:r=!1,className:a}=e;return(0,i.useEffect)(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]),(0,o.jsx)("div",{onClick:()=>n(!1),className:(0,l.Z)(d().backdrop,{["".concat(d().darkMode)]:r,["".concat(d().showBackdrop)]:t},a)})},s=t(9017),c=t(79994),v=t.n(c),m=e=>{let{visible:n,setVisible:t,placement:r="right",closeTravel:a=150,children:d,transition:u="transform 500ms cubic-bezier(0.32, 0.72, 0, 1)",...s}=e,c="translate".concat("up"===r||"down"===r?"Y":"X","(").concat("up"===r||"left"===r?"-":"","100%)"),[m,p]=(0,i.useState)(u),[h,f]=(0,i.useState)(c),[y,g]=(0,i.useState)(null),_=!1,C=0,E=0,N=0,b=(0,i.useRef)(),S=(0,i.useCallback)(e=>{let n=e.target;["INPUT","TEXTAREA","SELECT","BUTTON","A","P","SPAN"].includes(n.tagName)||n.isContentEditable||(e.preventDefault(),_=!0,C=e.clientY,E=e.clientX,document.addEventListener("mousemove",x),document.addEventListener("mouseup",I),p(""))},[r]),x=(0,i.useCallback)(e=>{if(_){switch(r){case"up":N=C-e.clientY;break;case"down":N=e.clientY-C;break;case"left":N=E-e.clientX;break;default:N=e.clientX-E}N>=0&&f("translate".concat("up"===r||"down"===r?"Y":"X","(").concat("up"===r||"left"===r?"-":"").concat(N,"px)"))}},[r]),I=(0,i.useCallback)(()=>{document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",I),p(u),_=!1,N>a?(t(!1),f(c)):f(""),N=0},[a,c]);return(0,i.useEffect)(()=>(b.current&&(g(b.current),n?f(""):f(c)),()=>{document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",I),y&&y.removeEventListener("mousedown",S)}),[y,n,S,x,I,c]),(0,o.jsx)("div",{...s,className:(0,l.Z)(v().swipeable,s.className,v()[r]),ref:b,onMouseDown:S,style:{position:"fixed",transition:"".concat(m),transform:"".concat(h),...s.style},children:d})},p=t(53700),h=t.n(p),f=t(9156),y=e=>{let{titleSheet:n,darkMode:t=!1,showSheet:a=!1,placement:d="down",children:c,className:v,width:p="100%",height:y="100%",maxHeight:g="100%",headerProps:_,setShowSheet:C,showClose:E=!0,bodyClassName:N,...b}=e,S=(0,i.useRef)(null),[x,I]=(0,i.useState)(0);return(0,f.y1)([["Escape",()=>{a&&C(!1)}]]),(0,i.useEffect)(()=>{S.current&&a&&I(Number(S.current.offsetHeight))},[a,S.current]),(0,i.useEffect)(()=>{let e=document.querySelector("body");e&&(e.style.overflow=a?"hidden":"",e.style.position=a?"relative":"")},[a]),a&&(0,r.createPortal)((0,o.jsxs)("div",{...b,className:(0,l.Z)(h().sheet,v),children:[(0,o.jsx)(u,{darkMode:t,showBackdrop:a,setShowBackdrop:C}),(0,o.jsxs)(m,{placement:d,visible:a,setVisible:C,className:(0,l.Z)({["".concat(h().darkMode)]:t}),style:{maxWidth:p,height:y,maxHeight:g},children:[(0,o.jsxs)("div",{className:(0,l.Z)("sheet-title",(!!n||E)&&"relative max-h-[62px] min-h-10"),children:[n&&(0,o.jsx)("div",{title:n.toString(),ref:S,className:"border-500 line-clamp-1 border-b-2 py-3 pl-4 pr-5",..._,children:n}),E&&(0,o.jsx)(s.UiA,{className:(0,l.Z)(h().icon,"cursor-pointer"),onClick:()=>C(!1),width:24,height:24})]}),(0,o.jsx)("div",{className:(0,l.Z)(h().body,h()[d],N,{active:a}),style:{maxHeight:"calc(100% - ".concat(x,"px)"),overflow:"auto"},children:c})]})]}),document.body)}},24945:function(e,n,t){"use strict";var o=t(27573),l=t(7653),i=t(71960),r=t.n(i),a=t(53469),d=t(51236);let u=(0,t(70047).j)(r().wrapperInput,{variants:{size:{"very-small":r().verySmall,small:r().small,medium:r().medium,large:r().large,"very-large":r().veryLarge},status:{error:r().isError,default:""}},defaultVariants:{size:"small",status:"default"}}),s=(0,l.forwardRef)((e,n)=>{let{size:t,status:i,className:s,classNameInput:c="",classNameInputWapper:v,allowClear:m,labelText:p,placeholder:h="",value:f="",required:y,onChange:g,onBlur:_,onClick:C,iconLeft:E,iconRight:N,disabled:b,type:S="text",maxLength:x,helperText:I,onKeyDown:P,onKeyUp:T,onPaste:A,onFocus:O,...R}=e,D=(0,l.useId)(),w=(0,a.Z)(u({size:t,status:i}),{[r().disabled]:b},v);return(0,o.jsxs)("div",{className:(0,a.Z)(s),onClick:()=>{C&&C(f)},children:[p&&(0,o.jsxs)("label",{htmlFor:D,className:r().label,children:[p,y&&(0,o.jsx)("span",{children:"*"})]}),(0,o.jsxs)("div",{className:w,children:[E&&(0,o.jsx)("span",{className:r().icon,children:E}),(0,o.jsx)("input",{className:(0,a.Z)("w-full",c),...R,placeholder:h,value:f,onChange:e=>{if(b)return;let n=e.target.value;g&&g(n)},onBlur:()=>{_&&_(f)},onFocus:()=>{O&&O(f)},autoComplete:"off",ref:n,id:D,maxLength:x,disabled:b,type:S,onKeyDown:e=>{!b&&P&&P(e)},onKeyUp:e=>{!b&&T&&T(e)},onPaste:e=>{!b&&A&&A(e)}}),m&&f&&f.length>0&&(0,o.jsx)("span",{onClick:()=>{g&&g("")},className:(0,a.Z)(r().icon,"cursor-pointer"),children:(0,o.jsx)(d.Z,{})}),N&&(0,o.jsx)("span",{className:r().icon,children:N})]}),I]})});n.Z=s},61117:function(e,n,t){"use strict";t.d(n,{HZ:function(){return i},JF:function(){return v},KU:function(){return s},K_:function(){return a},RV:function(){return d},Wx:function(){return u},hU:function(){return c},kS:function(){return r},oH:function(){return l},tv:function(){return m},uJ:function(){return o}}),t(46161);let o=(e,n)=>{let t=n.toString(),o="".concat(t.length?"?":"").concat(t);return"".concat(e).concat(o)};function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e?("string"==typeof e&&(e=parseInt(e,10)),new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e)):"0 ₫"}let i=(e,n)=>{var t,o;if(!document.getElementById(e))return;let l=(null===(o=document.getElementById(e))||void 0===o?void 0:null===(t=o.getBoundingClientRect())||void 0===t?void 0:t.top)||0;window.scrollTo({behavior:"smooth",top:l-document.body.getBoundingClientRect().top-n})};function r(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return e?e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1".concat(n)):0}let a=/^(0[1-9][0-9]{8,9}|84[1-9][0-9]{8,9})$/,d=/^[0-9]{10}$|^[0-9]{10}-[0-9]{3}$/;function u(e,n,t){let o=new Date;o.setTime(o.getTime()+864e5*t);let l="expires="+o.toUTCString();document.cookie=e+"="+n+";"+l+";path=/; HttpOnly Secure"}let s=/[`~!@#$%^&*_|+\=;'"<>\{\}\[\]\\]/gi;function c(e){return(e+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br />$2")}function v(e){let n=/((http|https):\/\/[\w\.\/\-=?#]+)/;return n.test(e)?/<a\b[^>]*>(.*?)<\/a>/i.test(e)?e:e.replace(n,'<a href="$1" target="_blank" class="text-textOnWhiteHyperLink">$1</a>'):e}let m=e=>{let n=["iphone 16","iphone 16 pro","iphone 16 pro max"],t=n[Math.floor(Math.random()*n.length)];return!!e&&(t||"iphone 16")}},52810:function(e){e.exports={backdrop:"Backdrop_backdrop__A7yIC",darkMode:"Backdrop_darkMode__eqwkh",showBackdrop:"Backdrop_showBackdrop__xvyWm"}},97704:function(e){e.exports={root:"Button_root__LQsbl",loadingWrap:"Button_loadingWrap__u0h_H",small:"Button_small__g3Vat",redPrimary:"Button_redPrimary__Rvn3w",redSecondary:"Button_redSecondary___XGMX",blackPrimary:"Button_blackPrimary__gMVkE",blackSecondary:"Button_blackSecondary__jmNgT",whitePrimary:"Button_whitePrimary__nkoMI",bgGrayPressed:"Button_bgGrayPressed__4UOYt",bgSemanticBlueLink:"Button_bgSemanticBlueLink__6HE5u",bgBlueSecondary:"Button_bgBlueSecondary__YR0oQ",whiteSecondary:"Button_whiteSecondary__RDYi_",disabled:"Button_disabled__63xYi",bluePrimary:"Button_bluePrimary__ob6xs",blueSecondary:"Button_blueSecondary__lx_QN",text:"Button_text__1F91d",btnVeryLarge:"Button_btnVeryLarge__keoR0",btnLarge:"Button_btnLarge__N4wc5",btnMedium:"Button_btnMedium___hdAA",btnSmall:"Button_btnSmall__aXxTy",btnVerySmall:"Button_btnVerySmall__t06Rw",btnIconLeft:"Button_btnIconLeft__1dveM",btnIconRight:"Button_btnIconRight__4VSUO",loading:"Button_loading__yrGL2",btnIcon:"Button_btnIcon__iV3kA",btnIconSquare:"Button_btnIconSquare__Hf98G",btnSquare:"Button_btnSquare___qM_O",bgTransparent:"Button_bgTransparent__rarAp"}},52880:function(e){e.exports={blackPrimary:"Loading_blackPrimary__D39pv",blackSecondary:"Loading_blackSecondary__oKfkS",redPrimary:"Loading_redPrimary__C_4as",redSecondary:"Loading_redSecondary__zJ_Pn",whitePrimary:"Loading_whitePrimary__CWSfU",whiteSecondary:"Loading_whiteSecondary__6TcIG",loader:"Loading_loader__w_rNY",rotation:"Loading_rotation__I2HVo"}},84104:function(e){e.exports={toggleRadio:"Radio_toggleRadio__e5mia",toggleRadioLabel:"Radio_toggleRadioLabel__7E50Q",fstudio:"Radio_fstudio__vTo_j",labelRadioMedium:"Radio_labelRadioMedium__vLq0n",labelRadioLarge:"Radio_labelRadioLarge__HWjac",radio:"Radio_radio__VyvFZ"}},53700:function(e){e.exports={sheet:"Sheet_sheet__59S7D",body:"Sheet_body__VKc95",icon:"Sheet_icon__RnybF",darkMode:"Sheet_darkMode__ovTcg"}},79994:function(e){e.exports={up:"Swipeable_up__4gCst",down:"Swipeable_down__sD5uK",left:"Swipeable_left__KC_15",right:"Swipeable_right__7aupL",top:"Swipeable_top__7UYhG",swipeable:"Swipeable_swipeable__BTB2L"}},44343:function(e){e.exports={wrapper:"Popup_wrapper__6tK_X",overlay:"Popup_overlay__ADVST",container:"Popup_container__S6aww",header:"Popup_header__h4Lyf",title:"Popup_title__KP9FG",closePopupIcon:"Popup_closePopupIcon__FhNfY",main:"Popup_main__7KY0R",footer:"Popup_footer__wP7oO",subContent:"Popup_subContent__2icJy",btnArea:"Popup_btnArea__k21pg",button:"Popup_button__2QfPn",smallSize:"Popup_smallSize___415m",mediumSize:"Popup_mediumSize__67X9r",largeSize:"Popup_largeSize__qx3_P",mobileSize:"Popup_mobileSize__aJhvl",showPopup:"Popup_showPopup__1fD9T",hidePopup:"Popup_hidePopup__01ACT"}},71960:function(e){e.exports={wrapperInput:"TextField_wrapperInput__7jAYN",disabled:"TextField_disabled__8Ygz7",verySmall:"TextField_verySmall__gmmJL",icon:"TextField_icon__Ki480",small:"TextField_small__i2ghd",medium:"TextField_medium__iEUar",large:"TextField_large__ILNM6",veryLarge:"TextField_veryLarge__na5Kg",isError:"TextField_isError__1H3SV",label:"TextField_label__VYBLe"}}}]);